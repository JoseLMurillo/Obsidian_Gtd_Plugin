/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// modals/processInboxModal.ts
var import_obsidian = require("obsidian");
var ProcessInboxModal = class extends import_obsidian.Modal {
  constructor(app, tasks) {
    super(app);
    this.selectedFolder = "default";
    this.selectedFile = "default";
    this.tasks = tasks;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Tasks" });
    for (let task of this.tasks) {
      const taskDiv = contentEl.createDiv();
      taskDiv.createEl("p", { text: task });
      new import_obsidian.Setting(taskDiv).setName("Select the destination").addDropdown((dropdown) => {
        dropdown.addOption("default", "");
        dropdown.addOption("1. Projects", "Projects");
        dropdown.addOption("2. Stay", "Stay");
        dropdown.addOption("3. Someday", "Someday");
        dropdown.addOption("Follow", "Follow");
        let fileDropdown = new import_obsidian.Setting(taskDiv);
        let fileName = new import_obsidian.Setting(taskDiv);
        let tag = new import_obsidian.Setting(taskDiv);
        let time = new import_obsidian.Setting(taskDiv);
        let date = new import_obsidian.Setting(taskDiv);
        let hour = new import_obsidian.Setting(taskDiv);
        let tag2 = new import_obsidian.Setting(taskDiv);
        dropdown.onChange(async (value) => {
          this.selectedFolder = value;
          fileDropdown.setName("").clear();
          fileName.setName("").clear();
          tag.setName("").clear();
          time.setName("").clear();
          date.setName("").clear();
          hour.setName("").clear();
          tag2.setName("").clear();
          if (value !== "Follow" && value !== "default") {
            const files = await this.app.vault.adapter.list(`GTD/${value}`);
            if (files.files) {
              fileDropdown.setName("Select a project or create a new one").addDropdown((fileDropdown2) => {
                fileDropdown2.addOption("default", "");
                files.files.forEach((file) => {
                  fileDropdown2.addOption(file, this.getLastPart(file));
                });
                fileDropdown2.onChange((fileValue) => {
                  this.selectedFile = fileValue;
                });
              });
            }
          }
          fileName.setName("Project name if you do not have one selected").addText((text) => {
            text.onChange((value2) => {
              this.newFileName = value2;
            });
          });
          tag.setName("Select the tag").addDropdown((dropdown2) => {
            dropdown2.addOption("default", "");
            dropdown2.addOption("UI", "UI");
            dropdown2.addOption("INU", "INU");
            dropdown2.addOption("UNI", "UNI");
            dropdown2.addOption("NUNI", "NUNI");
            dropdown2.onChange(async (value2) => {
              this.taskTag = value2;
            });
          });
          time.setName("Duration time").addText((text) => {
            text.onChange((value2) => {
              this.taskTime = value2;
            });
          });
          date.setName("Date").addText((text) => {
            text.inputEl.setAttribute("type", "date");
            text.onChange((value2) => {
              this.taskDate = value2;
            });
          });
          hour.setName("Hour").addText((text) => {
            text.inputEl.setAttribute("type", "time");
            text.onChange((value2) => {
              this.taskHour = value2;
            });
          });
        });
        taskDiv.createEl("button", { text: "Process" }).addEventListener("click", () => {
          this.processTask(task);
          taskDiv.empty();
        });
        const deleteButton = taskDiv.createEl("button", { text: "Delete Task" });
        deleteButton.style.backgroundColor = "#DA1010";
        deleteButton.addEventListener("click", async () => {
          new import_obsidian.Notice("Task deleted.");
          taskDiv.empty();
        });
      });
    }
  }
  async deleteTask(file, line) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.splice(line, 1);
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async addTaskToFile(text, filePath) {
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile && text.trim() !== "") {
      try {
        let content = await this.app.vault.read(file);
        const insertPosition = content.indexOf("# Done");
        if (insertPosition !== -1) {
          const before = content.substring(0, insertPosition);
          const after = content.substring(insertPosition);
          content = before + text + "\n" + after;
        } else {
          content += "\n" + text;
        }
        await this.app.vault.modify(file, content);
        new import_obsidian.Notice("Task added");
      } catch (e) {
        new import_obsidian.Notice("ERROR");
        console.log(`Error ${e}`);
      }
    }
  }
  async deleteTaskFromFile(filePath, taskToDelete) {
    try {
      const fileContent = await this.app.vault.adapter.read(filePath);
      const lines = fileContent.split("\n");
      const updatedLines = lines.filter((line) => line.trim() !== taskToDelete.trim());
      const updatedContent = updatedLines.join("\n");
      await this.app.vault.adapter.write(filePath, updatedContent);
      new import_obsidian.Notice(`Task deleted: ${taskToDelete}`);
    } catch (error) {
      console.error("Failed to delete task:", error);
    }
  }
  async createProyect(path, fileName, data) {
    const newFilePath = `GTD/${path}/${fileName}.md`;
    const vault = this.app.vault;
    try {
      await vault.create(newFilePath, `${data}
# Done`);
      new import_obsidian.Notice("New project created successfully");
    } catch (e) {
      new import_obsidian.Notice("Error");
      console.log(`File ${newFilePath} already exists.`);
    }
    return newFilePath;
  }
  async processTask(task) {
    const formattedTask = `${task} #${this.taskTag} **${this.taskTime}** \u{1F4C5} ${this.taskDate} [hour::${this.taskHour}]`;
    try {
      if (this.selectedFolder === "Follow") {
        await this.addTaskToFile(formattedTask, `GTD/${this.selectedFolder}.md`);
      } else if (this.selectedFile === "default") {
        await this.createProyect(this.selectedFolder, this.newFileName, formattedTask);
      } else {
        await this.addTaskToFile(formattedTask, this.selectedFile);
      }
      this.deleteTaskFromFile("GTD/Inbox.md", task);
    } catch (error) {
      console.error("Error handling task:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/addTaskToInboxModal.ts
var import_obsidian2 = require("obsidian");
var AddTaskToInboxModal = class extends import_obsidian2.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Add task" });
    const textComponent = new import_obsidian2.TextComponent(contentEl);
    textComponent.onChange((value) => {
      this.text = value;
    });
    const submitButton = new import_obsidian2.ButtonComponent(contentEl);
    submitButton.setButtonText("Add").onClick(() => {
      addTaskToIbox(this.text, import_obsidian2.TFile).then(() => {
        new import_obsidian2.Notice("Task added to inbox");
      });
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
async function addTaskToIbox(text, TFile5) {
  const filePath = "GTD/Inbox.md";
  const file = this.app.vault.getAbstractFileByPath(filePath);
  if (file instanceof TFile5 && text.trim() !== "") {
    try {
      text = `- [ ] ${text}`;
      let content = await this.app.vault.read(file);
      const insertPosition = content.indexOf("# Done");
      if (insertPosition !== -1) {
        const before = content.substring(0, insertPosition);
        const after = content.substring(insertPosition);
        content = before + text + "\n" + after;
      } else {
        content += "\n" + text;
      }
      await this.app.vault.modify(file, content);
      return true;
    } catch (e) {
      console.log(`Error ${e}`);
      return false;
    }
  }
}

// modals/processFileModal.ts
var import_obsidian3 = require("obsidian");
var ProcessFileModal = class extends import_obsidian3.Modal {
  constructor(app) {
    super(app);
    this.selectedDestination = "default";
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const h2 = contentEl.createEl("h2", { text: "Move or Delete Proyect" });
    const taskDivParent = contentEl.createDiv();
    taskDivParent.style.backgroundColor = "#006C8C";
    const taskDiv = contentEl.createDiv();
    new import_obsidian3.Setting(taskDivParent).setName("Select folder to process").addDropdown((dropdown) => {
      dropdown.addOption("default", "");
      dropdown.addOption("2. Stay", "Stay");
      dropdown.addOption("3. Someday", "Someday");
      dropdown.onChange(async (value) => {
        taskDiv.empty();
        const folderPath = `GTD/${value}`;
        try {
          const files = await this.app.vault.adapter.list(folderPath);
          const fileList = files.files;
          if (fileList.length === 0) {
            contentEl.createEl("p", { text: "No files found in the Someday folder." });
            return;
          }
          for (let task of fileList) {
            const taskDivtask = contentEl.createDiv();
            taskDivtask.createEl("h3", { text: this.getLastPart(task) });
            new import_obsidian3.Setting(taskDivtask).setName("Select the destination").addDropdown((dropdown2) => {
              dropdown2.addOption("default", "");
              dropdown2.addOption("1. Projects", "Projects");
              dropdown2.addOption("2. Stay", "Stay");
              dropdown2.addOption("4. Archive", "Archive");
              dropdown2.onChange(async (value2) => {
                this.selectedDestination = value2;
              });
            });
            taskDivtask.createEl("button", { text: "Move" }).addEventListener("click", async () => {
              if (task && this.selectedDestination !== "default") {
                await this.moveFile(task, this.selectedDestination);
                taskDivtask.empty();
              } else {
                new import_obsidian3.Notice("Please select a file and folder first.");
              }
            });
            const btnDelete = taskDivtask.createEl("button", { text: "Delete" });
            btnDelete.style.backgroundColor = "#DA1010";
            btnDelete.addEventListener("click", async () => {
              if (task) {
                await this.deleteFile(task);
                new import_obsidian3.Notice(`Deleted ${task}`);
                taskDivtask.empty();
              } else {
                new import_obsidian3.Notice("Please select a file first.");
              }
            });
          }
        } catch (error) {
          console.log(error);
        }
      });
    });
  }
  async moveFile(file, destination) {
    const sourcePath = file;
    const destinationPath = `GTD/${destination}/${this.getLastPart(file)}`;
    const fileContent = await this.app.vault.adapter.read(sourcePath);
    await this.app.vault.create(`${destinationPath}/`, `${fileContent}`);
    await this.deleteFile(file);
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async deleteFile(file) {
    const filePath = file;
    try {
      await this.app.vault.adapter.remove(filePath);
    } catch (error) {
      console.error("Failed to delete file:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/taskManagerModal.ts
var import_obsidian4 = require("obsidian");
var TaskManagerModal = class extends import_obsidian4.Modal {
  constructor(app) {
    super(app);
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Manage Tasks" });
    const folderPaths = ["GTD/1. Projects", "GTD/2. Stay", "GTD/3. Someday"];
    const specificFilePath = "GTD/Follow.md";
    try {
      const tasks = await this.readTasksFromFoldersAndFile(folderPaths, specificFilePath);
      if (tasks.length === 0) {
        contentEl.createEl("p", { text: "No tasks found." });
        return;
      }
      tasks.forEach((task) => {
        this.createTaskElement(task);
      });
    } catch (error) {
      console.error("Failed to read tasks:", error);
      contentEl.createEl("p", { text: "Failed to load tasks." });
    }
  }
  async readTasksFromFoldersAndFile(folders, specificFile) {
    const tasks = [];
    for (const folder of folders) {
      const files = await this.app.vault.adapter.list(folder);
      for (const file of files.files) {
        const content2 = await this.app.vault.adapter.read(file);
        const lines2 = content2.split("\n");
        lines2.forEach((line, index) => {
          if (line.match(/- \[ \].*📅 \d{4}-\d{2}-\d{2}/)) {
            tasks.push({ file, content: line, line: index });
          }
        });
      }
    }
    const content = await this.app.vault.adapter.read(specificFile);
    const lines = content.split("\n");
    lines.forEach((line, index) => {
      if (line.match(/- \[ \].*📅 \d{4}-\d{2}-\d{2}/)) {
        tasks.push({ file: specificFile, content: line, line: index });
      }
    });
    return tasks;
  }
  createTaskElement(task) {
    const { contentEl } = this;
    const taskEl = contentEl.createEl("div", { cls: "task-item" });
    const dateMatch = task.content.match(/📅 (\d{4}-\d{2}-\d{2})/);
    const hourMatch = task.content.match(/\[hour::(\d{2}:\d{2})-(\d{2}:\d{2})\]/);
    const dateInput = taskEl.createEl("input", { type: "date" });
    const startHourInput = taskEl.createEl("input", { type: "time" });
    const endHourInput = taskEl.createEl("input", { type: "time" });
    if (dateMatch) {
      dateInput.value = dateMatch[1];
    }
    if (hourMatch) {
      const [_, startHour, endHour] = hourMatch;
      startHourInput.value = startHour;
      endHourInput.value = endHour;
    }
    const taskContentParts = task.content.split(/(📅 \d{4}-\d{2}-\d{2})|\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/);
    taskContentParts.forEach((part) => {
      if (part == null ? void 0 : part.match(/📅 \d{4}-\d{2}-\d{2}/)) {
      } else if (part == null ? void 0 : part.match(/\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/)) {
      } else if (part) {
        taskEl.createEl("span", { text: part });
      }
    });
    taskEl.appendChild(dateInput);
    taskEl.appendChild(startHourInput);
    taskEl.appendChild(endHourInput);
    const updateButton = taskEl.createEl("button", { text: "Update Task" });
    updateButton.addEventListener("click", async () => {
      const newDate = dateInput.value;
      const newStartHour = startHourInput.value;
      const newEndHour = endHourInput.value;
      let updatedContent = task.content.replace(/📅 \d{4}-\d{2}-\d{2}/, `\u{1F4C5} ${newDate}`).replace(/\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/, `[hour::${newStartHour}-${newEndHour}]`);
      await this.updateTask(task.file, task.line, updatedContent);
      new import_obsidian4.Notice("Task updated.");
      taskEl.empty();
    });
    const deleteButton = taskEl.createEl("button", { text: "Delete Task" });
    deleteButton.style.backgroundColor = "#DA1010";
    deleteButton.addEventListener("click", async () => {
      await this.deleteTask(task.file, task.line);
      new import_obsidian4.Notice("Task deleted.");
      taskEl.empty();
    });
  }
  async updateTask(file, line, newContent) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines[line] = newContent;
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  async deleteTask(file, line) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.splice(line, 1);
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// functions/processInbox.ts
async function processInbox() {
  let tasks;
  const filePath = "GTD/Inbox.md";
  try {
    const fileContent = await this.app.vault.adapter.read(filePath);
    const tasks2 = fileContent.split("\n").filter((line) => line.startsWith("- [ ]"));
    return tasks2;
  } catch (error) {
    console.error("Failed to read file:", error);
  }
}

// functions/createGtdStructure.ts
async function createGtdStructure() {
  const vault = this.app.vault;
  const basePath = "GTD";
  const folders = [
    basePath,
    `${basePath}/1. Projects`,
    `${basePath}/2. Stay`,
    `${basePath}/3. Someday`,
    `${basePath}/4. Archive`
  ];
  const files = [
    { name: `${basePath}/Inbox.md`, data: "" },
    { name: `${basePath}/Documentation.md`, data: "" },
    { name: `${basePath}/Follow.md`, data: "" }
  ];
  try {
    for await (const folder of folders) {
      try {
        await vault.createFolder(folder);
      } catch (e) {
        console.log(`Folder ${folder} already exists.`);
      }
    }
    for await (const file of files) {
      const { name, data } = file;
      try {
        await vault.create(`${name}`, `${data}`);
      } catch (e) {
        console.log(`File file already exists.`);
      }
    }
    return true;
  } catch (e) {
    return false;
  }
}

// modals/moveCompletedTasks.ts
var import_obsidian5 = require("obsidian");
async function moveCompletedTasks(app) {
  const activeFile = app.workspace.getActiveFile();
  if (!activeFile) {
    new import_obsidian5.Notice("No active file open.");
    return;
  }
  const content = await app.vault.read(activeFile);
  const lines = content.split("\n");
  const completedTasks = [];
  const newContent = lines.filter((line) => {
    if (line.match(/- \[x\]/)) {
      completedTasks.push(line);
      return false;
    }
    return true;
  }).join("\n");
  const doneSectionIndex = newContent.indexOf("# Done");
  let updatedContent = "";
  if (doneSectionIndex !== -1) {
    const beforeDoneSection = newContent.substring(0, doneSectionIndex + 6);
    const afterDoneSection = newContent.substring(doneSectionIndex + 6);
    updatedContent = `${beforeDoneSection}
${completedTasks.join("\n")}
${afterDoneSection}`;
  } else {
    updatedContent = `${newContent}
# Done
${completedTasks.join("\n")}`;
  }
  await app.vault.modify(activeFile, updatedContent);
  new import_obsidian5.Notice("Completed tasks moved to # Done section.");
}

// functions/moveAllDoneTasks.ts
var import_obsidian6 = require("obsidian");
async function moveAllDoneTasks(app) {
  const targetFile = await getOrCreateFile(app, "GTD/Tasks Done.md");
  const completedTasks = [];
  await processFolder(app, "GTD", completedTasks);
  if (completedTasks.length === 0) {
    new import_obsidian6.Notice("No completed tasks found.");
    return;
  }
  const targetContent = await app.vault.read(targetFile);
  const updatedContent = `${targetContent}${completedTasks.join("\n")}`;
  await app.vault.modify(targetFile, updatedContent);
  new import_obsidian6.Notice("Completed tasks moved to target file.");
}
async function processFolder(app, folderPath, completedTasks) {
  const files = await app.vault.adapter.list(folderPath);
  for (const file of files.files) {
    const content = await app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.forEach((line) => {
      if (line.match(/- \[x\]/)) {
        completedTasks.push(line);
      }
    });
    const newContent = lines.filter((line) => !line.match(/- \[x\]/)).join("\n");
    await app.vault.adapter.write(file, newContent);
  }
  for (const folder of files.folders) {
    await processFolder(app, folder, completedTasks);
  }
}
async function getOrCreateFile(app, filePath) {
  let file = app.vault.getAbstractFileByPath(filePath);
  if (!file) {
    await app.vault.create(filePath, "");
    file = app.vault.getAbstractFileByPath(filePath);
  }
  return file;
}

// main.ts
var MyPlugin = class extends import_obsidian7.Plugin {
  async onload() {
    this.addCommand({
      id: "Create_Gtd_Structure",
      name: "Create Gtd Structure",
      callback: () => {
        createGtdStructure().then((result) => {
          if (result) {
            new import_obsidian7.Notice("GTD structure created!");
          } else {
            new import_obsidian7.Notice("Error");
          }
        });
      }
    });
    this.addCommand({
      id: "Add_Task_Inbox",
      name: "Add Task to Inbox",
      callback: () => {
        new AddTaskToInboxModal(this.app).open();
      }
    });
    this.addRibbonIcon("package-plus", "Add Task to Inbox", () => {
      new AddTaskToInboxModal(this.app).open();
    });
    this.addCommand({
      id: "open-task-manager",
      name: "Open Task Manager",
      callback: () => {
        new TaskManagerModal(this.app).open();
      }
    });
    this.addRibbonIcon("calendar-clock", "Open Task Manager", () => {
      new TaskManagerModal(this.app).open();
    });
    this.addCommand({
      id: "process-file",
      name: "Process File",
      callback: () => {
        new ProcessFileModal(this.app).open();
      }
    });
    this.addRibbonIcon("arrow-down-up", "Process File", () => {
      new ProcessFileModal(this.app).open();
    });
    this.addCommand({
      id: "process-inbox",
      name: "Process Inbox",
      callback: () => {
        processInbox().then((tasks) => {
          new ProcessInboxModal(this.app, tasks).open();
        });
      }
    });
    this.addRibbonIcon("folder-output", "Process Inbox", () => {
      processInbox().then((tasks) => {
        new ProcessInboxModal(this.app, tasks).open();
      });
    });
    this.addCommand({
      id: "move-completed-to-done",
      name: "Move Completed Tasks to Done",
      callback: () => moveCompletedTasks(this.app)
    });
    this.addCommand({
      id: "move-all-completed-tasks-done",
      name: "Move All Completed Asks Done",
      callback: () => moveAllDoneTasks(this.app)
    });
    this.addRibbonIcon("file-check", "Move All Completed Asks Done", () => {
      moveAllDoneTasks(this.app);
    });
  }
  onunload() {
    new import_obsidian7.Notice("unloading plugin");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJtb2RhbHMvcHJvY2Vzc0luYm94TW9kYWwudHMiLCAibW9kYWxzL2FkZFRhc2tUb0luYm94TW9kYWwudHMiLCAibW9kYWxzL3Byb2Nlc3NGaWxlTW9kYWwudHMiLCAibW9kYWxzL3Rhc2tNYW5hZ2VyTW9kYWwudHMiLCAiZnVuY3Rpb25zL3Byb2Nlc3NJbmJveC50cyIsICJmdW5jdGlvbnMvY3JlYXRlR3RkU3RydWN0dXJlLnRzIiwgIm1vZGFscy9tb3ZlQ29tcGxldGVkVGFza3MudHMiLCAiZnVuY3Rpb25zL21vdmVBbGxEb25lVGFza3MudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLy8gTU9EQUxTXHJcbmltcG9ydCB7IFByb2Nlc3NJbmJveE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvcHJvY2Vzc0luYm94TW9kYWwnO1xyXG5pbXBvcnQgeyBBZGRUYXNrVG9JbmJveE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvYWRkVGFza1RvSW5ib3hNb2RhbCc7XHJcbmltcG9ydCB7IFByb2Nlc3NGaWxlTW9kYWwgfSBmcm9tICdtb2RhbHMvcHJvY2Vzc0ZpbGVNb2RhbCc7XHJcbmltcG9ydCB7IFRhc2tNYW5hZ2VyTW9kYWwgfSBmcm9tICdtb2RhbHMvdGFza01hbmFnZXJNb2RhbCc7XHJcblxyXG4vL0ZVTkNUSU9OU1xyXG5pbXBvcnQgeyBwcm9jZXNzSW5ib3ggfSBmcm9tICdmdW5jdGlvbnMvcHJvY2Vzc0luYm94JztcclxuaW1wb3J0IHsgY3JlYXRlR3RkU3RydWN0dXJlIH0gZnJvbSAnZnVuY3Rpb25zL2NyZWF0ZUd0ZFN0cnVjdHVyZSc7XHJcbmltcG9ydCB7IG1vdmVDb21wbGV0ZWRUYXNrcyB9IGZyb20gJ21vZGFscy9tb3ZlQ29tcGxldGVkVGFza3MnO1xyXG5pbXBvcnQgeyBtb3ZlQWxsRG9uZVRhc2tzIH0gZnJvbSAnZnVuY3Rpb25zL21vdmVBbGxEb25lVGFza3MnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuICAgIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogXCJDcmVhdGVfR3RkX1N0cnVjdHVyZVwiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIkNyZWF0ZSBHdGQgU3RydWN0dXJlXCIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVHdGRTdHJ1Y3R1cmUoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdHVEQgc3RydWN0dXJlIGNyZWF0ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ0FkZF9UYXNrX0luYm94JyxcclxuICAgICAgICAgICAgbmFtZTogJ0FkZCBUYXNrIHRvIEluYm94JyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdwYWNrYWdlLXBsdXMnLCAnQWRkIFRhc2sgdG8gSW5ib3gnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ29wZW4tdGFzay1tYW5hZ2VyJyxcclxuICAgICAgICAgICAgbmFtZTogJ09wZW4gVGFzayBNYW5hZ2VyJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBUYXNrTWFuYWdlck1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdjYWxlbmRhci1jbG9jaycsICdPcGVuIFRhc2sgTWFuYWdlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbmV3IFRhc2tNYW5hZ2VyTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAncHJvY2Vzcy1maWxlJyxcclxuICAgICAgICAgICAgbmFtZTogJ1Byb2Nlc3MgRmlsZScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0ZpbGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignYXJyb3ctZG93bi11cCcsICdQcm9jZXNzIEZpbGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9jZXNzRmlsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ3Byb2Nlc3MtaW5ib3gnLFxyXG4gICAgICAgICAgICBuYW1lOiAnUHJvY2VzcyBJbmJveCcsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSW5ib3goKS50aGVuKHRhc2tzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0luYm94TW9kYWwodGhpcy5hcHAsIHRhc2tzKS5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2ZvbGRlci1vdXRwdXQnLCAnUHJvY2VzcyBJbmJveCcsICgpID0+IHtcclxuICAgICAgICAgICAgcHJvY2Vzc0luYm94KCkudGhlbih0YXNrcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0luYm94TW9kYWwodGhpcy5hcHAsIHRhc2tzKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6ICdtb3ZlLWNvbXBsZXRlZC10by1kb25lJyxcclxuICAgICAgICAgICAgbmFtZTogJ01vdmUgQ29tcGxldGVkIFRhc2tzIHRvIERvbmUnLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gbW92ZUNvbXBsZXRlZFRhc2tzKHRoaXMuYXBwKVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6ICdtb3ZlLWFsbC1jb21wbGV0ZWQtdGFza3MtZG9uZScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdNb3ZlIEFsbCBDb21wbGV0ZWQgQXNrcyBEb25lJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IG1vdmVBbGxEb25lVGFza3ModGhpcy5hcHApXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignZmlsZS1jaGVjaycsICdNb3ZlIEFsbCBDb21wbGV0ZWQgQXNrcyBEb25lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb3ZlQWxsRG9uZVRhc2tzKHRoaXMuYXBwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbnVubG9hZCgpIHtcclxuICAgICAgICBuZXcgTm90aWNlKCd1bmxvYWRpbmcgcGx1Z2luJyk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcsIE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzSW5ib3hNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICB0YXNrczogc3RyaW5nW107XHJcbiAgc2VsZWN0ZWRGb2xkZXI6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBzZWxlY3RlZEZpbGU6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBuZXdGaWxlTmFtZTogc3RyaW5nO1xyXG4gIHRhc2tUYWc6IHN0cmluZztcclxuICB0YXNrVGltZTogc3RyaW5nO1xyXG4gIHRhc2tEYXRlOiBzdHJpbmc7XHJcbiAgdGFza0hvdXI6IHN0cmluZztcclxuXHJcbiAgdGFzazogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdGFza3M6IHN0cmluZ1tdKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gICAgdGhpcy50YXNrcyA9IHRhc2tzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVGFza3MnIH0pO1xyXG5cclxuICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy50YXNrcykge1xyXG4gICAgICBjb25zdCB0YXNrRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG4gICAgICB0YXNrRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0YXNrIH0pO1xyXG5cclxuICAgICAgLy9zZWxlY3RvciBkZSBjYXJwZXRhL2FyY2hpdm9cclxuICAgICAgbmV3IFNldHRpbmcodGFza0RpdilcclxuICAgICAgICAuc2V0TmFtZSgnU2VsZWN0IHRoZSBkZXN0aW5hdGlvbicpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignZGVmYXVsdCcsICcnKTtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMS4gUHJvamVjdHMnLCAnUHJvamVjdHMnKTtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMi4gU3RheScsICdTdGF5Jyk7XHJcbiAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzMuIFNvbWVkYXknLCAnU29tZWRheScpO1xyXG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdGb2xsb3cnLCAnRm9sbG93Jyk7XHJcblxyXG4gICAgICAgICAgbGV0IGZpbGVEcm9wZG93biA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IGZpbGVOYW1lID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgdGFnID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgdGltZSA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IGRhdGUgPSBuZXcgU2V0dGluZyh0YXNrRGl2KTtcclxuICAgICAgICAgIGxldCBob3VyID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgdGFnMiA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG5cclxuICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZvbGRlciA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgZmlsZURyb3Bkb3duLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGZpbGVOYW1lLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRhZy5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aW1lLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgaG91ci5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0YWcyLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICdGb2xsb3cnICYmIHZhbHVlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChgR1RELyR7dmFsdWV9YCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChmaWxlcy5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgZmlsZURyb3Bkb3duLnNldE5hbWUoJ1NlbGVjdCBhIHByb2plY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZScpXHJcbiAgICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bihmaWxlRHJvcGRvd24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVEcm9wZG93bi5hZGRPcHRpb24oJ2RlZmF1bHQnLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzLmZpbGVzLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlRHJvcGRvd24uYWRkT3B0aW9uKGZpbGUsIHRoaXMuZ2V0TGFzdFBhcnQoZmlsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWxlRHJvcGRvd24ub25DaGFuZ2UoZmlsZVZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZmlsZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbGVOYW1lXHJcbiAgICAgICAgICAgICAgLnNldE5hbWUoJ1Byb2plY3QgbmFtZSBpZiB5b3UgZG8gbm90IGhhdmUgb25lIHNlbGVjdGVkJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLm5ld0ZpbGVOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRBR1xyXG4gICAgICAgICAgICB0YWcuc2V0TmFtZSgnU2VsZWN0IHRoZSB0YWcnKVxyXG4gICAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ2RlZmF1bHQnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ1VJJywgJ1VJJyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ0lOVScsICdJTlUnKTtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignVU5JJywgJ1VOSScpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdOVU5JJywgJ05VTkknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFza1RhZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIERVUkFUSU9OIFRJTUVcclxuICAgICAgICAgICAgdGltZS5zZXROYW1lKCdEdXJhdGlvbiB0aW1lJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRhc2tUaW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIERBVEVcclxuICAgICAgICAgICAgZGF0ZS5zZXROYW1lKCdEYXRlJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdGV4dC5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFza0RhdGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSE9VUlxyXG4gICAgICAgICAgICBob3VyLnNldE5hbWUoJ0hvdXInKVxyXG4gICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHJpYnV0ZSgndHlwZScsICd0aW1lJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy50YXNrSG91ciA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBCVE4gUFJPQ0VTU1xyXG4gICAgICAgICAgdGFza0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUHJvY2VzcycgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1Rhc2sodGFzayk7XHJcbiAgICAgICAgICAgIHRhc2tEaXYuZW1wdHkoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRhc2tEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBUYXNrJyB9KTtcclxuICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0RBMTAxMCc7XHJcbiAgICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vYXdhaXQgdGhpcy5kZWxldGVUYXNrKCdHVEQvaW5ib3gubWQnLCB0YXNrLmxpbmUpO1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKCdUYXNrIGRlbGV0ZWQuJyk7XHJcblxyXG4gICAgICAgICAgICB0YXNrRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlVGFzayhmaWxlOiBzdHJpbmcsIGxpbmU6IG51bWJlcikge1xyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICBsaW5lcy5zcGxpY2UobGluZSwgMSk7XHJcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGUsIGxpbmVzLmpvaW4oJ1xcbicpKTtcclxuICB9XHJcblxyXG5cclxuICBnZXRMYXN0UGFydCh0ZXh0OiBzdHJpbmcpIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHRleHQubGFzdEluZGV4T2YoJy8nKTtcclxuICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhsYXN0U2xhc2hJbmRleCArIDEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgYXN5bmMgYWRkVGFza1RvRmlsZSh0ZXh0OiBzdHJpbmcsIGZpbGVQYXRoOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xyXG5cclxuICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgdGV4dC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IGNvbnRlbnQuaW5kZXhPZignIyBEb25lJyk7XHJcbiAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uICE9PSAtMSkge1xyXG4gICAgICAgICAgY29uc3QgYmVmb3JlID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgY29uc3QgYWZ0ZXIgPSBjb250ZW50LnN1YnN0cmluZyhpbnNlcnRQb3NpdGlvbik7XHJcbiAgICAgICAgICBjb250ZW50ID0gYmVmb3JlICsgdGV4dCArICdcXG4nICsgYWZ0ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnRlbnQgKz0gJ1xcbicgKyB0ZXh0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNvbnRlbnQpO1xyXG4gICAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgYWRkZWQnKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBuZXcgTm90aWNlKCdFUlJPUicpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgJHtlfWApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBhc3luYyBkZWxldGVUYXNrRnJvbUZpbGUoZmlsZVBhdGg6IHN0cmluZywgdGFza1RvRGVsZXRlOiBzdHJpbmcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKGZpbGVQYXRoKTtcclxuICAgICAgY29uc3QgbGluZXMgPSBmaWxlQ29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRMaW5lcyA9IGxpbmVzLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSB0YXNrVG9EZWxldGUudHJpbSgpKTtcclxuICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSB1cGRhdGVkTGluZXMuam9pbignXFxuJyk7XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGVQYXRoLCB1cGRhdGVkQ29udGVudCk7XHJcbiAgICAgIG5ldyBOb3RpY2UoYFRhc2sgZGVsZXRlZDogJHt0YXNrVG9EZWxldGV9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHRhc2s6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGFzeW5jIGNyZWF0ZVByb3llY3QocGF0aDogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBkYXRhOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG5ld0ZpbGVQYXRoID0gYEdURC8ke3BhdGh9LyR7ZmlsZU5hbWV9Lm1kYDtcclxuICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlKG5ld0ZpbGVQYXRoLCBgJHtkYXRhfVxcbiMgRG9uZWApO1xyXG4gICAgICBuZXcgTm90aWNlKCdOZXcgcHJvamVjdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBuZXcgTm90aWNlKCdFcnJvcicpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgRmlsZSAke25ld0ZpbGVQYXRofSBhbHJlYWR5IGV4aXN0cy5gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3RmlsZVBhdGg7XHJcbiAgfVxyXG5cclxuXHJcbiAgYXN5bmMgcHJvY2Vzc1Rhc2sodGFzazogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBmb3JtYXR0ZWRUYXNrID0gYCR7dGFza30gIyR7dGhpcy50YXNrVGFnfSAqKiR7dGhpcy50YXNrVGltZX0qKiBcdUQ4M0RcdURDQzUgJHt0aGlzLnRhc2tEYXRlfSBbaG91cjo6JHt0aGlzLnRhc2tIb3VyfV1gO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRm9sZGVyID09PSAnRm9sbG93Jykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYWRkVGFza1RvRmlsZShmb3JtYXR0ZWRUYXNrLCBgR1RELyR7dGhpcy5zZWxlY3RlZEZvbGRlcn0ubWRgKTtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEZpbGUgPT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUHJveWVjdCh0aGlzLnNlbGVjdGVkRm9sZGVyLCB0aGlzLm5ld0ZpbGVOYW1lLCBmb3JtYXR0ZWRUYXNrKTtcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hZGRUYXNrVG9GaWxlKGZvcm1hdHRlZFRhc2ssIHRoaXMuc2VsZWN0ZWRGaWxlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kZWxldGVUYXNrRnJvbUZpbGUoJ0dURC9JbmJveC5tZCcsIHRhc2spO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIHRhc2s6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59IiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFRleHRDb21wb25lbnQsIEJ1dHRvbkNvbXBvbmVudCwgVEZpbGUsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkZFRhc2tUb0luYm94TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4gICAgc3VwZXIoYXBwKTtcclxuICB9XHJcblxyXG4gIG9uT3BlbigpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cclxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdBZGQgdGFzaycgfSk7XHJcblxyXG4gICAgY29uc3QgdGV4dENvbXBvbmVudCA9IG5ldyBUZXh0Q29tcG9uZW50KGNvbnRlbnRFbCk7XHJcbiAgICB0ZXh0Q29tcG9uZW50Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAgdGhpcy50ZXh0ID0gdmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRlbnRFbCk7XHJcbiAgICBzdWJtaXRCdXR0b24uc2V0QnV0dG9uVGV4dCgnQWRkJykub25DbGljaygoKSA9PiB7XHJcblxyXG4gICAgICBhZGRUYXNrVG9JYm94KHRoaXMudGV4dCwgVEZpbGUpLnRoZW4oKCk9PntuZXcgTm90aWNlKCdUYXNrIGFkZGVkIHRvIGluYm94Jyl9KTtcclxuXHJcblxyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkVGFza1RvSWJveCh0ZXh0OiBzdHJpbmcsIFRGaWxlOiBhbnkpIHtcclxuICBjb25zdCBmaWxlUGF0aCA9ICdHVEQvSW5ib3gubWQnO1xyXG4gIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xyXG5cclxuICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIHRleHQudHJpbSgpICE9PSAnJykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgICAgdGV4dCA9IGAtIFsgXSAke3RleHR9YDtcclxuICAgICAgICAgIGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IGNvbnRlbnQuaW5kZXhPZignIyBEb25lJyk7XHJcbiAgICAgICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUgKyB0ZXh0ICsgJ1xcbicgKyBhZnRlcjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudCArPSAnXFxuJyArIHRleHQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgXHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciAke2V9YClcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgTW9kYWwsIEFwcCwgTm90aWNlLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvY2Vzc0ZpbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIHNlbGVjdGVkRmlsZTogc3RyaW5nO1xyXG4gICAgc2VsZWN0ZWREZXN0aW5hdGlvbjogc3RyaW5nID0gJ2RlZmF1bHQnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGgyID0gY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ01vdmUgb3IgRGVsZXRlIFByb3llY3QnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrRGl2UGFyZW50ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG4gICAgICAgIHRhc2tEaXZQYXJlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMwMDZDOEMnO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyh0YXNrRGl2UGFyZW50KVxyXG4gICAgICAgICAgICAuc2V0TmFtZSgnU2VsZWN0IGZvbGRlciB0byBwcm9jZXNzJylcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignZGVmYXVsdCcsICcnKTtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMi4gU3RheScsICdTdGF5Jyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzMuIFNvbWVkYXknLCAnU29tZWRheScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrRGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBgR1RELyR7dmFsdWV9YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmxpc3QoZm9sZGVyUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVMaXN0ID0gZmlsZXMuZmlsZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdObyBmaWxlcyBmb3VuZCBpbiB0aGUgU29tZWRheSBmb2xkZXIuJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdGFzayBvZiBmaWxlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0RpdnRhc2sgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEaXZ0YXNrLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdGhpcy5nZXRMYXN0UGFydCh0YXNrKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyh0YXNrRGl2dGFzaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZSgnU2VsZWN0IHRoZSBkZXN0aW5hdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdkZWZhdWx0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzEuIFByb2plY3RzJywgJ1Byb2plY3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMi4gU3RheScsICdTdGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignNC4gQXJjaGl2ZScsICdBcmNoaXZlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVzdGluYXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2dGFzay5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnTW92ZScgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2sgJiYgdGhpcy5zZWxlY3RlZERlc3RpbmF0aW9uICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tb3ZlRmlsZSh0YXNrLCB0aGlzLnNlbGVjdGVkRGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2dGFzay5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2Ugc2VsZWN0IGEgZmlsZSBhbmQgZm9sZGVyIGZpcnN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ0bkRlbGV0ZSA9IHRhc2tEaXZ0YXNrLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUnIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkRlbGV0ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0RBMTAxMCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmlsZSh0YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRGVsZXRlZCAke3Rhc2t9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEaXZ0YXNrLmVtcHR5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1BsZWFzZSBzZWxlY3QgYSBmaWxlIGZpcnN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgbW92ZUZpbGUoZmlsZTogc3RyaW5nLCBkZXN0aW5hdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlUGF0aCA9IGZpbGU7XHJcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25QYXRoID0gYEdURC8ke2Rlc3RpbmF0aW9ufS8ke3RoaXMuZ2V0TGFzdFBhcnQoZmlsZSl9YDtcclxuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChzb3VyY2VQYXRoKTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGAke2Rlc3RpbmF0aW9uUGF0aH0vYCwgYCR7ZmlsZUNvbnRlbnR9YCk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmlsZShmaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYXN0UGFydCh0ZXh0OiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbGFzdFNsYXNoSW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKCcvJyk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhsYXN0U2xhc2hJbmRleCArIDEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkZWxldGVGaWxlKGZpbGU6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZW1vdmUoZmlsZVBhdGgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgZmlsZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgTW9kYWwsIEFwcCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhc2tNYW5hZ2VyTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgIHN1cGVyKGFwcCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdNYW5hZ2UgVGFza3MnIH0pO1xyXG5cclxuICAgIGNvbnN0IGZvbGRlclBhdGhzID0gWydHVEQvMS4gUHJvamVjdHMnLCAnR1RELzIuIFN0YXknLCAnR1RELzMuIFNvbWVkYXknXTtcclxuICAgIGNvbnN0IHNwZWNpZmljRmlsZVBhdGggPSAnR1REL0ZvbGxvdy5tZCc7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdGFza3MgPSBhd2FpdCB0aGlzLnJlYWRUYXNrc0Zyb21Gb2xkZXJzQW5kRmlsZShmb2xkZXJQYXRocywgc3BlY2lmaWNGaWxlUGF0aCk7XHJcblxyXG4gICAgICBpZiAodGFza3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTm8gdGFza3MgZm91bmQuJyB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUYXNrRWxlbWVudCh0YXNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVhZCB0YXNrczonLCBlcnJvcik7XHJcbiAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0ZhaWxlZCB0byBsb2FkIHRhc2tzLicgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyByZWFkVGFza3NGcm9tRm9sZGVyc0FuZEZpbGUoZm9sZGVyczogc3RyaW5nW10sIHNwZWNpZmljRmlsZTogc3RyaW5nKTogUHJvbWlzZTx7IGZpbGU6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyBsaW5lOiBudW1iZXIgfVtdPiB7XHJcbiAgICBjb25zdCB0YXNrczogeyBmaWxlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgbGluZTogbnVtYmVyIH1bXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmxpc3QoZm9sZGVyKTtcclxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLmZpbGVzKSB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBpZiAobGluZS5tYXRjaCgvLSBcXFsgXFxdLipcdUQ4M0RcdURDQzUgXFxkezR9LVxcZHsyfS1cXGR7Mn0vKSkge1xyXG4gICAgICAgICAgICB0YXNrcy5wdXNoKHsgZmlsZSwgY29udGVudDogbGluZSwgbGluZTogaW5kZXggfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHNwZWNpZmljRmlsZSk7XHJcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgbGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGxpbmUubWF0Y2goLy0gXFxbIFxcXS4qXHVEODNEXHVEQ0M1IFxcZHs0fS1cXGR7Mn0tXFxkezJ9LykpIHtcclxuICAgICAgICB0YXNrcy5wdXNoKHsgZmlsZTogc3BlY2lmaWNGaWxlLCBjb250ZW50OiBsaW5lLCBsaW5lOiBpbmRleCB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRhc2tzO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlVGFza0VsZW1lbnQodGFzazogeyBmaWxlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgbGluZTogbnVtYmVyIH0pIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cclxuICAgIGNvbnN0IHRhc2tFbCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd0YXNrLWl0ZW0nIH0pO1xyXG5cclxuICAgIGNvbnN0IGRhdGVNYXRjaCA9IHRhc2suY29udGVudC5tYXRjaCgvXHVEODNEXHVEQ0M1IChcXGR7NH0tXFxkezJ9LVxcZHsyfSkvKTtcclxuICAgIGNvbnN0IGhvdXJNYXRjaCA9IHRhc2suY29udGVudC5tYXRjaCgvXFxbaG91cjo6KFxcZHsyfTpcXGR7Mn0pLShcXGR7Mn06XFxkezJ9KVxcXS8pO1xyXG5cclxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IHRhc2tFbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdkYXRlJyB9KTtcclxuICAgIGNvbnN0IHN0YXJ0SG91cklucHV0ID0gdGFza0VsLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RpbWUnIH0pO1xyXG4gICAgY29uc3QgZW5kSG91cklucHV0ID0gdGFza0VsLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RpbWUnIH0pO1xyXG5cclxuICAgIGlmIChkYXRlTWF0Y2gpIHtcclxuICAgICAgZGF0ZUlucHV0LnZhbHVlID0gZGF0ZU1hdGNoWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChob3VyTWF0Y2gpIHtcclxuICAgICAgY29uc3QgW18sIHN0YXJ0SG91ciwgZW5kSG91cl0gPSBob3VyTWF0Y2g7XHJcbiAgICAgIHN0YXJ0SG91cklucHV0LnZhbHVlID0gc3RhcnRIb3VyO1xyXG4gICAgICBlbmRIb3VySW5wdXQudmFsdWUgPSBlbmRIb3VyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRhc2tDb250ZW50UGFydHMgPSB0YXNrLmNvbnRlbnQuc3BsaXQoLyhcdUQ4M0RcdURDQzUgXFxkezR9LVxcZHsyfS1cXGR7Mn0pfFxcW2hvdXI6OlxcZHsyfTpcXGR7Mn0tXFxkezJ9OlxcZHsyfVxcXS8pO1xyXG4gICAgdGFza0NvbnRlbnRQYXJ0cy5mb3JFYWNoKHBhcnQgPT4ge1xyXG4gICAgICBpZiAocGFydD8ubWF0Y2goL1x1RDgzRFx1RENDNSBcXGR7NH0tXFxkezJ9LVxcZHsyfS8pKSB7XHJcbiAgICAgICAgXHJcbiAgICAgIH0gZWxzZSBpZiAocGFydD8ubWF0Y2goL1xcW2hvdXI6OlxcZHsyfTpcXGR7Mn0tXFxkezJ9OlxcZHsyfVxcXS8pKSB7XHJcblxyXG4gICAgICB9IGVsc2UgaWYgKHBhcnQpIHtcclxuICAgICAgICB0YXNrRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHBhcnQgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRhc2tFbC5hcHBlbmRDaGlsZChkYXRlSW5wdXQpO1xyXG4gICAgdGFza0VsLmFwcGVuZENoaWxkKHN0YXJ0SG91cklucHV0KTtcclxuICAgIHRhc2tFbC5hcHBlbmRDaGlsZChlbmRIb3VySW5wdXQpO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZUJ1dHRvbiA9IHRhc2tFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVXBkYXRlIFRhc2snIH0pO1xyXG4gICAgdXBkYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdEYXRlID0gZGF0ZUlucHV0LnZhbHVlO1xyXG4gICAgICBjb25zdCBuZXdTdGFydEhvdXIgPSBzdGFydEhvdXJJbnB1dC52YWx1ZTtcclxuICAgICAgY29uc3QgbmV3RW5kSG91ciA9IGVuZEhvdXJJbnB1dC52YWx1ZTtcclxuXHJcbiAgICAgIGxldCB1cGRhdGVkQ29udGVudCA9IHRhc2suY29udGVudFxyXG4gICAgICAgIC5yZXBsYWNlKC9cdUQ4M0RcdURDQzUgXFxkezR9LVxcZHsyfS1cXGR7Mn0vLCBgXHVEODNEXHVEQ0M1ICR7bmV3RGF0ZX1gKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXFtob3VyOjpcXGR7Mn06XFxkezJ9LVxcZHsyfTpcXGR7Mn1cXF0vLCBgW2hvdXI6OiR7bmV3U3RhcnRIb3VyfS0ke25ld0VuZEhvdXJ9XWApO1xyXG5cclxuICAgICAgYXdhaXQgdGhpcy51cGRhdGVUYXNrKHRhc2suZmlsZSwgdGFzay5saW5lLCB1cGRhdGVkQ29udGVudCk7XHJcbiAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgdXBkYXRlZC4nKTtcclxuICAgICAgdGFza0VsLmVtcHR5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0YXNrRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBUYXNrJyB9KTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0RBMTAxMCc7XHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlVGFzayh0YXNrLmZpbGUsIHRhc2subGluZSk7XHJcbiAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgZGVsZXRlZC4nKTtcclxuICAgICAgdGFza0VsLmVtcHR5KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVRhc2soZmlsZTogc3RyaW5nLCBsaW5lOiBudW1iZXIsIG5ld0NvbnRlbnQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICBsaW5lc1tsaW5lXSA9IG5ld0NvbnRlbnQ7XHJcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGUsIGxpbmVzLmpvaW4oJ1xcbicpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZVRhc2soZmlsZTogc3RyaW5nLCBsaW5lOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZSk7XHJcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgbGluZXMuc3BsaWNlKGxpbmUsIDEpO1xyXG4gICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlLCBsaW5lcy5qb2luKCdcXG4nKSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICB9XHJcbn0iLCAiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NJbmJveCgpIHtcclxuICAgICAgICBsZXQgdGFza3M6IHN0cmluZ1tdO1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gJ0dURC9JbmJveC5tZCc7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlUGF0aCk7XHJcbiAgICAgICAgICBjb25zdCB0YXNrcyA9IGZpbGVDb250ZW50LnNwbGl0KCdcXG4nKS5maWx0ZXIoKGxpbmU6IHN0cmluZykgPT4gbGluZS5zdGFydHNXaXRoKCctIFsgXScpKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHRhc2tzO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWFkIGZpbGU6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSIsICJleHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR3RkU3RydWN0dXJlKCkge1xyXG4gICAgY29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdDtcclxuICAgIGNvbnN0IGJhc2VQYXRoID0gJ0dURCc7XHJcblxyXG4gICAgY29uc3QgZm9sZGVycyA9IFtcclxuICAgICAgICBiYXNlUGF0aCxcclxuICAgICAgICBgJHtiYXNlUGF0aH0vMS4gUHJvamVjdHNgLFxyXG4gICAgICAgIGAke2Jhc2VQYXRofS8yLiBTdGF5YCxcclxuICAgICAgICBgJHtiYXNlUGF0aH0vMy4gU29tZWRheWAsXHJcbiAgICAgICAgYCR7YmFzZVBhdGh9LzQuIEFyY2hpdmVgXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IGZpbGVzID0gW1xyXG4gICAgICAgIHsgbmFtZTogYCR7YmFzZVBhdGh9L0luYm94Lm1kYCwgZGF0YTogJycgfSxcclxuICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9Eb2N1bWVudGF0aW9uLm1kYCwgZGF0YTogJycgfSxcclxuICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9Gb2xsb3cubWRgLCBkYXRhOiAnJyB9XHJcbiAgICBdO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBmb2xkZXIgb2YgZm9sZGVycykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvbGRlciAke2ZvbGRlcn0gYWxyZWFkeSBleGlzdHMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBkYXRhIH0gPSBmaWxlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlKGAke25hbWV9YCwgYCR7ZGF0YX1gKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpbGUgZmlsZSBhbHJlYWR5IGV4aXN0cy5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgTm90aWNlLCBURmlsZSwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1vdmVDb21wbGV0ZWRUYXNrcyhhcHA6IEFwcCkge1xyXG4gIGNvbnN0IGFjdGl2ZUZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuICBpZiAoIWFjdGl2ZUZpbGUpIHtcclxuICAgIG5ldyBOb3RpY2UoJ05vIGFjdGl2ZSBmaWxlIG9wZW4uJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoYWN0aXZlRmlsZSk7XHJcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICBjb25zdCBjb21wbGV0ZWRUYXNrczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgLy8gRmlsdHJhIHkgZWxpbWluYSBsYXMgdGFyZWFzIGNvbXBsZXRhZGFzIGRlbCBjb250ZW5pZG8gb3JpZ2luYWxcclxuICBjb25zdCBuZXdDb250ZW50ID0gbGluZXMuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgaWYgKGxpbmUubWF0Y2goLy0gXFxbeFxcXS8pKSB7XHJcbiAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2gobGluZSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0pLmpvaW4oJ1xcbicpO1xyXG5cclxuICAvLyBCdXNjYSBsYSBzZWNjaVx1MDBGM24gXCIjIERvbmVcIlxyXG4gIGNvbnN0IGRvbmVTZWN0aW9uSW5kZXggPSBuZXdDb250ZW50LmluZGV4T2YoJyMgRG9uZScpO1xyXG5cclxuICBsZXQgdXBkYXRlZENvbnRlbnQgPSAnJztcclxuICBpZiAoZG9uZVNlY3Rpb25JbmRleCAhPT0gLTEpIHtcclxuICAgIC8vIEFcdTAwRjFhZGUgbGFzIHRhcmVhcyBjb21wbGV0YWRhcyBhIGxhIHNlY2NpXHUwMEYzbiBcIiMgRG9uZVwiXHJcbiAgICBjb25zdCBiZWZvcmVEb25lU2VjdGlvbiA9IG5ld0NvbnRlbnQuc3Vic3RyaW5nKDAsIGRvbmVTZWN0aW9uSW5kZXggKyA2KTtcclxuICAgIGNvbnN0IGFmdGVyRG9uZVNlY3Rpb24gPSBuZXdDb250ZW50LnN1YnN0cmluZyhkb25lU2VjdGlvbkluZGV4ICsgNik7XHJcbiAgICB1cGRhdGVkQ29udGVudCA9IGAke2JlZm9yZURvbmVTZWN0aW9ufVxcbiR7Y29tcGxldGVkVGFza3Muam9pbignXFxuJyl9XFxuJHthZnRlckRvbmVTZWN0aW9ufWA7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEFcdTAwRjFhZGUgdW5hIG51ZXZhIHNlY2NpXHUwMEYzbiBcIiMgRG9uZVwiIGFsIGZpbmFsIGRlbCBkb2N1bWVudG9cclxuICAgIHVwZGF0ZWRDb250ZW50ID0gYCR7bmV3Q29udGVudH1cXG4jIERvbmVcXG4ke2NvbXBsZXRlZFRhc2tzLmpvaW4oJ1xcbicpfWA7XHJcbiAgfVxyXG5cclxuICBhd2FpdCBhcHAudmF1bHQubW9kaWZ5KGFjdGl2ZUZpbGUsIHVwZGF0ZWRDb250ZW50KTtcclxuICBuZXcgTm90aWNlKCdDb21wbGV0ZWQgdGFza3MgbW92ZWQgdG8gIyBEb25lIHNlY3Rpb24uJyk7XHJcbn0iLCAiaW1wb3J0IHsgTm90aWNlLCBURmlsZSwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1vdmVBbGxEb25lVGFza3MoYXBwOiBBcHApIHtcclxuICBjb25zdCB0YXJnZXRGaWxlID0gYXdhaXQgZ2V0T3JDcmVhdGVGaWxlKGFwcCwgJ0dURC9UYXNrcyBEb25lLm1kJyk7XHJcbiAgY29uc3QgY29tcGxldGVkVGFza3M6IHN0cmluZ1tdID0gW107XHJcbiAgYXdhaXQgcHJvY2Vzc0ZvbGRlcihhcHAsICdHVEQnLCBjb21wbGV0ZWRUYXNrcyk7XHJcblxyXG4gIGlmIChjb21wbGV0ZWRUYXNrcy5sZW5ndGggPT09IDApIHtcclxuICAgIG5ldyBOb3RpY2UoJ05vIGNvbXBsZXRlZCB0YXNrcyBmb3VuZC4nKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRhcmdldENvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQucmVhZCh0YXJnZXRGaWxlKTtcclxuICBjb25zdCB1cGRhdGVkQ29udGVudCA9IGAke3RhcmdldENvbnRlbnR9JHtjb21wbGV0ZWRUYXNrcy5qb2luKCdcXG4nKX1gO1xyXG4gIGF3YWl0IGFwcC52YXVsdC5tb2RpZnkodGFyZ2V0RmlsZSwgdXBkYXRlZENvbnRlbnQpO1xyXG5cclxuICBuZXcgTm90aWNlKCdDb21wbGV0ZWQgdGFza3MgbW92ZWQgdG8gdGFyZ2V0IGZpbGUuJyk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGb2xkZXIoYXBwOiBBcHAsIGZvbGRlclBhdGg6IHN0cmluZywgY29tcGxldGVkVGFza3M6IHN0cmluZ1tdKSB7XHJcbiAgY29uc3QgZmlsZXMgPSBhd2FpdCBhcHAudmF1bHQuYWRhcHRlci5saXN0KGZvbGRlclBhdGgpO1xyXG5cclxuICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMuZmlsZXMpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQuYWRhcHRlci5yZWFkKGZpbGUpO1xyXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgaWYgKGxpbmUubWF0Y2goLy0gXFxbeFxcXS8pKSB7XHJcbiAgICAgICAgY29tcGxldGVkVGFza3MucHVzaChsaW5lKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGNvbXBsZXRlZCB0YXNrcyBmcm9tIG9yaWdpbmFsIGZpbGVzXHJcbiAgICBjb25zdCBuZXdDb250ZW50ID0gbGluZXMuZmlsdGVyKGxpbmUgPT4gIWxpbmUubWF0Y2goLy0gXFxbeFxcXS8pKS5qb2luKCdcXG4nKTtcclxuICAgIGF3YWl0IGFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGUsIG5ld0NvbnRlbnQpO1xyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBmb2xkZXIgb2YgZmlsZXMuZm9sZGVycykge1xyXG4gICAgYXdhaXQgcHJvY2Vzc0ZvbGRlcihhcHAsIGZvbGRlciwgY29tcGxldGVkVGFza3MpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JDcmVhdGVGaWxlKGFwcDogQXBwLCBmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxURmlsZT4ge1xyXG4gIGxldCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCkgYXMgVEZpbGU7XHJcbiAgaWYgKCFmaWxlKSB7XHJcbiAgICBhd2FpdCBhcHAudmF1bHQuY3JlYXRlKGZpbGVQYXRoLCAnJyk7XHJcbiAgICBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCkgYXMgVEZpbGU7XHJcbiAgfVxyXG4gIHJldHVybiBmaWxlO1xyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBK0I7OztBQ0EvQixzQkFBbUQ7QUFFNUMsSUFBTSxvQkFBTixjQUFnQyxzQkFBTTtBQUFBLEVBWTNDLFlBQVksS0FBVSxPQUFpQjtBQUNyQyxVQUFNLEdBQUc7QUFYWCwwQkFBeUI7QUFDekIsd0JBQXVCO0FBV3JCLFNBQUssUUFBUTtBQUFBLEVBQ2Y7QUFBQSxFQUVBLE1BQU0sU0FBUztBQUNiLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBRWhCLGNBQVUsU0FBUyxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFMUMsYUFBUyxRQUFRLEtBQUssT0FBTztBQUMzQixZQUFNLFVBQVUsVUFBVSxVQUFVO0FBQ3BDLGNBQVEsU0FBUyxLQUFLLEVBQUUsTUFBTSxLQUFLLENBQUM7QUFHcEMsVUFBSSx3QkFBUSxPQUFPLEVBQ2hCLFFBQVEsd0JBQXdCLEVBQ2hDLFlBQVksY0FBWTtBQUN2QixpQkFBUyxVQUFVLFdBQVcsRUFBRTtBQUNoQyxpQkFBUyxVQUFVLGVBQWUsVUFBVTtBQUM1QyxpQkFBUyxVQUFVLFdBQVcsTUFBTTtBQUNwQyxpQkFBUyxVQUFVLGNBQWMsU0FBUztBQUMxQyxpQkFBUyxVQUFVLFVBQVUsUUFBUTtBQUVyQyxZQUFJLGVBQWUsSUFBSSx3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QUFLO0FBQUEsSUFDM0MsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1osWUFBSSxpQkFBaUIsS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQ3hDO0FBQUEsSUFDSixDQUFDO0FBRUQsU0FBSyxjQUFjLGtCQUFrQixxQkFBcUIsTUFBTTtBQUM1RCxVQUFJLGlCQUFpQixLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQUEsSUFDeEMsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1osWUFBSSxpQkFBaUIsS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQ3hDO0FBQUEsSUFDSixDQUFDO0FBRUQsU0FBSyxjQUFjLGlCQUFpQixnQkFBZ0IsTUFBTTtBQUN0RCxVQUFJLGlCQUFpQixLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQUEsSUFDeEMsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1oscUJBQWEsRUFBRSxLQUFLLFdBQVM7QUFDekIsY0FBSSxrQkFBa0IsS0FBSyxLQUFLLEtBQUssRUFBRSxLQUFLO0FBQUEsUUFDaEQsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNKLENBQUM7QUFFRCxTQUFLLGNBQWMsaUJBQWlCLGlCQUFpQixNQUFNO0FBQ3ZELG1CQUFhLEVBQUUsS0FBSyxXQUFTO0FBQ3pCLFlBQUksa0JBQWtCLEtBQUssS0FBSyxLQUFLLEVBQUUsS0FBSztBQUFBLE1BQ2hELENBQUM7QUFBQSxJQUNMLENBQUM7QUFHRCxTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTSxtQkFBbUIsS0FBSyxHQUFHO0FBQUEsSUFDL0MsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNLGlCQUFpQixLQUFLLEdBQUc7QUFBQSxJQUM3QyxDQUFDO0FBRUQsU0FBSyxjQUFjLGNBQWMsZ0NBQWdDLE1BQU07QUFDbkUsdUJBQWlCLEtBQUssR0FBRztBQUFBLElBQzdCLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFHQSxXQUFXO0FBQ1AsUUFBSSx3QkFBTyxrQkFBa0I7QUFBQSxFQUNqQztBQUNKOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiZmlsZURyb3Bkb3duIiwgInZhbHVlIiwgImRyb3Bkb3duIiwgImltcG9ydF9vYnNpZGlhbiIsICJURmlsZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiZHJvcGRvd24iLCAidmFsdWUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvbnRlbnQiLCAibGluZXMiLCAidGFza3MiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
