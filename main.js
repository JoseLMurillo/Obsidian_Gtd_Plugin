/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// modals/processInboxModal.ts
var import_obsidian = require("obsidian");
var ProcessInboxModal = class extends import_obsidian.Modal {
  constructor(app, tasks) {
    super(app);
    this.selectedFolder = "default";
    this.selectedFile = "default";
    this.tasks = tasks;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Tasks" });
    for (let task of this.tasks) {
      const taskDiv = contentEl.createDiv();
      taskDiv.createEl("p", { text: task });
      new import_obsidian.Setting(taskDiv).setName("Select the destination").addDropdown((dropdown) => {
        dropdown.addOption("default", "");
        dropdown.addOption("1. Projects", "Projects");
        dropdown.addOption("2. Stay", "Stay");
        dropdown.addOption("3. Someday", "Someday");
        dropdown.addOption("Follow", "Follow");
        let fileDropdown = new import_obsidian.Setting(taskDiv);
        let fileName = new import_obsidian.Setting(taskDiv);
        let tag = new import_obsidian.Setting(taskDiv);
        let time = new import_obsidian.Setting(taskDiv);
        let date = new import_obsidian.Setting(taskDiv);
        let hour = new import_obsidian.Setting(taskDiv);
        dropdown.onChange(async (value) => {
          this.selectedFolder = value;
          fileDropdown.setName("").clear();
          fileName.setName("").clear();
          tag.setName("").clear();
          time.setName("").clear();
          date.setName("").clear();
          hour.setName("").clear();
          if (value !== "Follow" && value !== "default") {
            const files = await this.app.vault.adapter.list(`GTD/${value}`);
            if (files.files) {
              fileDropdown.setName("Select a project or create a new one").addDropdown((fileDropdown2) => {
                fileDropdown2.addOption("default", "");
                files.files.forEach((file) => {
                  fileDropdown2.addOption(file, this.getLastPart(file));
                });
                fileDropdown2.onChange((fileValue) => {
                  this.selectedFile = fileValue;
                });
              });
            }
          }
          fileName.setName("Project name if you do not have one selected").addText((text) => {
            text.onChange((value2) => {
              this.newFileName = value2;
            });
          });
          tag.setName("Tag").addText((text) => {
            text.onChange((value2) => {
              this.taskTag = value2;
            });
          }).settingEl.setAttribute("required", "true");
          time.setName("Duration time").addText((text) => {
            text.onChange((value2) => {
              this.taskTime = value2;
            });
          });
          date.setName("Date").addText((text) => {
            text.inputEl.setAttribute("type", "date");
            text.onChange((value2) => {
              this.taskDate = value2;
            });
          });
          hour.setName("Hour").addText((text) => {
            text.inputEl.setAttribute("type", "time");
            text.onChange((value2) => {
              this.taskHour = value2;
            });
          });
        });
        taskDiv.createEl("button", { text: "Process" }).addEventListener("click", () => {
          this.processTask(task);
          taskDiv.empty();
        });
      });
    }
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async addTaskToFile(text, filePath) {
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile && text.trim() !== "") {
      try {
        let content = await this.app.vault.read(file);
        const insertPosition = content.indexOf("# Done");
        if (insertPosition !== -1) {
          const before = content.substring(0, insertPosition);
          const after = content.substring(insertPosition);
          content = before + text + "\n" + after;
        } else {
          content += "\n" + text;
        }
        await this.app.vault.modify(file, content);
        new import_obsidian.Notice("Task added");
      } catch (e) {
        new import_obsidian.Notice("ERROR");
        console.log(`Error ${e}`);
      }
    }
  }
  async deleteTaskFromFile(filePath, taskToDelete) {
    try {
      const fileContent = await this.app.vault.adapter.read(filePath);
      const lines = fileContent.split("\n");
      const updatedLines = lines.filter((line) => line.trim() !== taskToDelete.trim());
      const updatedContent = updatedLines.join("\n");
      await this.app.vault.adapter.write(filePath, updatedContent);
      new import_obsidian.Notice(`Task deleted: ${taskToDelete}`);
    } catch (error) {
      console.error("Failed to delete task:", error);
    }
  }
  async createProyect(path, fileName, data) {
    const newFilePath = `GTD/${path}/${fileName}.md`;
    const vault = this.app.vault;
    try {
      await vault.create(newFilePath, `${data}
# Done`);
      new import_obsidian.Notice("New project created successfully");
    } catch (e) {
      new import_obsidian.Notice("Error");
      console.log(`File ${newFilePath} already exists.`);
    }
    return newFilePath;
  }
  async processTask(task) {
    const formattedTask = `${task} #${this.taskTag} **${this.taskTime}** \u{1F4C5} ${this.taskDate} [hour::${this.taskHour}]`;
    try {
      if (this.selectedFolder === "Follow") {
        await this.addTaskToFile(formattedTask, `GTD/${this.selectedFolder}.md`);
      } else if (this.selectedFile === "default") {
        await this.createProyect(this.selectedFolder, this.newFileName, formattedTask);
      } else {
        await this.addTaskToFile(formattedTask, this.selectedFile);
      }
      this.deleteTaskFromFile("GTD/Inbox.md", task);
    } catch (error) {
      console.error("Error handling task:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/exampleModal.ts
var import_obsidian2 = require("obsidian");
var ExampleModal = class extends import_obsidian2.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "What's your name?" });
    new import_obsidian2.Setting(contentEl).setName("Name").addText((text) => text.onChange((value) => {
      this.result = value;
    }));
    new import_obsidian2.Setting(contentEl).addButton((btn) => btn.setButtonText("Submit").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// modals/addTaskToInboxModal.ts
var import_obsidian3 = require("obsidian");
var AddTaskToInboxModal = class extends import_obsidian3.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Add task" });
    const textComponent = new import_obsidian3.TextComponent(contentEl);
    textComponent.onChange((value) => {
      this.text = value;
    });
    const submitButton = new import_obsidian3.ButtonComponent(contentEl);
    submitButton.setButtonText("Add").onClick(() => {
      this.close();
      this.onSubmit(this.text);
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/processFileModal.ts
var import_obsidian4 = require("obsidian");
var ProcessFileModal = class extends import_obsidian4.Modal {
  constructor(app) {
    super(app);
    this.selectedDestination = "default";
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const h2 = contentEl.createEl("h2", { text: "Move or Delete Proyect" });
    const taskDivParent = contentEl.createDiv();
    taskDivParent.style.backgroundColor = "#006C8C";
    const taskDiv = contentEl.createDiv();
    new import_obsidian4.Setting(taskDivParent).setName("Select folder to process").addDropdown((dropdown) => {
      dropdown.addOption("default", "");
      dropdown.addOption("2. Stay", "Stay");
      dropdown.addOption("3. Someday", "Someday");
      dropdown.onChange(async (value) => {
        taskDiv.empty();
        const folderPath = `GTD/${value}`;
        try {
          const files = await this.app.vault.adapter.list(folderPath);
          const fileList = files.files;
          if (fileList.length === 0) {
            contentEl.createEl("p", { text: "No files found in the Someday folder." });
            return;
          }
          for (let task of fileList) {
            taskDiv.createEl("h3", { text: this.getLastPart(task) });
            new import_obsidian4.Setting(taskDiv).setName("Select the destination").addDropdown((dropdown2) => {
              dropdown2.addOption("default", "");
              dropdown2.addOption("1. Projects", "Projects");
              dropdown2.addOption("2. Stay", "Stay");
              dropdown2.addOption("4. Archive", "Archive");
              dropdown2.onChange(async (value2) => {
                this.selectedDestination = value2;
              });
            });
            taskDiv.createEl("button", { text: "Move" }).addEventListener("click", async () => {
              if (task && this.selectedDestination !== "default") {
                await this.moveFile(task, this.selectedDestination);
                taskDiv.empty();
              } else {
                new import_obsidian4.Notice("Please select a file and folder first.");
              }
            });
            const btnDelete = taskDiv.createEl("button", { text: "Delete" });
            btnDelete.style.backgroundColor = "#DA1010";
            btnDelete.addEventListener("click", async () => {
              if (task) {
                await this.deleteFile(task);
                new import_obsidian4.Notice(`Deleted ${task}`);
                taskDiv.empty();
              } else {
                new import_obsidian4.Notice("Please select a file first.");
              }
            });
          }
        } catch (error) {
          console.log(error);
        }
      });
    });
  }
  async moveFile(file, destination) {
    const sourcePath = file;
    const destinationPath = `GTD/${destination}/${this.getLastPart(file)}`;
    const fileContent = await this.app.vault.adapter.read(sourcePath);
    await this.app.vault.create(`${destinationPath}/`, `${fileContent}`);
    await this.deleteFile(file);
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async deleteFile(file) {
    const filePath = file;
    try {
      await this.app.vault.adapter.remove(filePath);
    } catch (error) {
      console.error("Failed to delete file:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/taskManagerModal.ts
var import_obsidian5 = require("obsidian");
var TaskManagerModal = class extends import_obsidian5.Modal {
  constructor(app) {
    super(app);
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Manage Tasks" });
    const folderPaths = ["GTD/1. Projects", "GTD/2. Stay", "GTD/3. Someday"];
    try {
      const tasks = await this.readTasksFromFolders(folderPaths);
      if (tasks.length === 0) {
        contentEl.createEl("p", { text: "No tasks found." });
        return;
      }
      tasks.forEach((task) => {
        this.createTaskElement(task);
      });
    } catch (error) {
      console.error("Failed to read tasks:", error);
      contentEl.createEl("p", { text: "Failed to load tasks." });
    }
  }
  async readTasksFromFolders(folders) {
    const tasks = [];
    for (const folder of folders) {
      const files = await this.app.vault.adapter.list(folder);
      for (const file of files.files) {
        const content = await this.app.vault.adapter.read(file);
        const lines = content.split("\n");
        lines.forEach((line, index) => {
          if (line.match(/- \[ \].*📅 \d{4}-\d{2}-\d{2}/)) {
            tasks.push({ file, content: line, line: index });
          }
        });
      }
    }
    return tasks;
  }
  createTaskElement(task) {
    const { contentEl } = this;
    const taskEl = contentEl.createEl("div", { cls: "task-item" });
    const dateMatch = task.content.match(/📅 (\d{4}-\d{2}-\d{2})/);
    if (dateMatch) {
      const taskDate = new Date(dateMatch[1]);
      const currentDate = new Date();
      if (taskDate < currentDate) {
        taskEl.createEl("span", { text: task.content });
        taskEl.createEl("span", { text: " (Overdue)", cls: "overdue" });
        const dateInput = taskEl.createEl("input", { type: "date" });
        dateInput.value = dateMatch[1];
        const updateButton = taskEl.createEl("button", { text: "Update Date" });
        updateButton.addEventListener("click", async () => {
          const newDate = dateInput.value;
          await this.deleteTask(task.file, task.line);
          const updatedContent = task.content.replace(/📅 \d{4}-\d{2}-\d{2}/, `\u{1F4C5} ${newDate}`);
          await this.updateTask(task.file, task.line, updatedContent);
          new import_obsidian5.Notice("Task date updated.");
          taskEl.empty();
        });
        const deleteButton = taskEl.createEl("button", { text: "Delete Task" });
        deleteButton.style.backgroundColor = "#DA1010";
        deleteButton.addEventListener("click", async () => {
          await this.deleteTask(task.file, task.line);
          new import_obsidian5.Notice("Task deleted.");
          taskEl.empty();
        });
      }
    }
  }
  async updateTask(file, line, newContent) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines[line] = newContent;
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  async deleteTask(file, line) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.splice(line, 1);
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// functions/processInbox.ts
async function processInbox() {
  let tasks;
  const filePath = "GTD/Inbox.md";
  try {
    const fileContent = await this.app.vault.adapter.read(filePath);
    const tasks2 = fileContent.split("\n").filter((line) => line.startsWith("- [ ]"));
    return tasks2;
  } catch (error) {
    console.error("Failed to read file:", error);
  }
}

// functions/createGtdStructure.ts
async function createGtdStructure() {
  const vault = this.app.vault;
  const basePath = "GTD";
  const folders = [
    basePath,
    `${basePath}/1. Projects`,
    `${basePath}/2. Stay`,
    `${basePath}/3. Someday`,
    `${basePath}/4. Archive`
  ];
  const files = [
    { name: `${basePath}/Inbox.md`, data: "" },
    { name: `${basePath}/Documentation.md`, data: "" },
    { name: `${basePath}/Follow.md`, data: "" }
  ];
  try {
    for await (const folder of folders) {
      try {
        await vault.createFolder(folder);
      } catch (e) {
        console.log(`Folder ${folder} already exists.`);
      }
    }
    for await (const file of files) {
      const { name, data } = file;
      try {
        await vault.create(`${name}`, `${data}`);
      } catch (e) {
        console.log(`File file already exists.`);
      }
    }
    return true;
  } catch (e) {
    return false;
  }
}

// main.ts
var MyPlugin = class extends import_obsidian6.Plugin {
  async onload() {
    this.addCommand({
      id: "open-task-manager-modal",
      name: "Open Task Manager Modal",
      callback: () => {
        new TaskManagerModal(this.app).open();
      }
    });
    this.addRibbonIcon("calendar-clock", "Open Task Manager Modal", () => {
      new TaskManagerModal(this.app).open();
    });
    this.addCommand({
      id: "process-someday",
      name: "Process Someday",
      callback: () => {
        new ProcessFileModal(this.app).open();
      }
    });
    this.addRibbonIcon("arrow-down-up", "Process Someday", () => {
      new ProcessFileModal(this.app).open();
    });
    this.addCommand({
      id: "process-inbox",
      name: "process Inbox",
      callback: () => {
        processInbox().then((tasks) => {
          new ProcessInboxModal(this.app, tasks).open();
        });
      }
    });
    this.addRibbonIcon("folder-output", "process Inbox", () => {
      processInbox().then((tasks) => {
        new ProcessInboxModal(this.app, tasks).open();
      });
    });
    this.addCommand({
      id: "Create_Gtd_Structure",
      name: "Create Gtd Structure",
      callback: () => {
        createGtdStructure().then((result) => {
          if (result) {
            new import_obsidian6.Notice("GTD structure created!");
          } else {
            new import_obsidian6.Notice("Error");
          }
        });
      }
    });
    this.addCommand({
      id: "Add_Task_Inbox",
      name: "Add Task to Inbox",
      callback: () => {
        new AddTaskToInboxModal(this.app, (text) => this.addTaskToIbox(text)).open();
      }
    });
    this.addRibbonIcon("package-plus", "Add Task to Inbox", () => {
      new AddTaskToInboxModal(this.app, (text) => this.addTaskToIbox(text)).open();
    });
    this.addCommand({
      id: "display-modal",
      name: "Display modal",
      callback: () => {
        new ExampleModal(this.app, (result) => {
          new import_obsidian6.Notice(`Hello, ${result}!`);
        }).open();
      }
    });
    const item = this.addStatusBarItem();
    item.createEl("span", { text: "Hello from the status bar \u{1F44B}" });
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
  }
  onunload() {
    new import_obsidian6.Notice("unloading plugin");
  }
  //FUNCTIONS
  async createGtdStructure() {
    const vault = this.app.vault;
    const basePath = "GTD";
    const folders = [
      basePath,
      `${basePath}/1. Projects`,
      `${basePath}/2. Stay`,
      `${basePath}/3. Someday`,
      `${basePath}/4. Archive`
    ];
    const files = [
      { name: `${basePath}/Inbox.md`, data: "" },
      { name: `${basePath}/Documentation.md`, data: "" },
      { name: `${basePath}/Follow.md`, data: "" }
    ];
    for await (const folder of folders) {
      try {
        await vault.createFolder(folder);
      } catch (e) {
        console.log(`Folder ${folder} already exists.`);
      }
    }
    for await (const file of files) {
      const { name, data } = file;
      try {
        await vault.create(`${name}`, `${data}`);
      } catch (e) {
        console.log(`File file already exists.`);
      }
    }
    new import_obsidian6.Notice("GTD structure created!");
  }
  async addTaskToIbox(text) {
    const filePath = "GTD/Inbox.md";
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian6.TFile && text.trim() !== "") {
      try {
        text = `- [ ] ${text}`;
        let content = await this.app.vault.read(file);
        const insertPosition = content.indexOf("# Done");
        if (insertPosition !== -1) {
          const before = content.substring(0, insertPosition);
          const after = content.substring(insertPosition);
          content = before + text + "\n" + after;
        } else {
          content += "\n" + text;
        }
        await this.app.vault.modify(file, content);
        new import_obsidian6.Notice("Task added to inbox");
      } catch (e) {
        new import_obsidian6.Notice("ERROR");
        console.log(`Error ${e}`);
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJtb2RhbHMvcHJvY2Vzc0luYm94TW9kYWwudHMiLCAibW9kYWxzL2V4YW1wbGVNb2RhbC50cyIsICJtb2RhbHMvYWRkVGFza1RvSW5ib3hNb2RhbC50cyIsICJtb2RhbHMvcHJvY2Vzc0ZpbGVNb2RhbC50cyIsICJtb2RhbHMvdGFza01hbmFnZXJNb2RhbC50cyIsICJmdW5jdGlvbnMvcHJvY2Vzc0luYm94LnRzIiwgImZ1bmN0aW9ucy9jcmVhdGVHdGRTdHJ1Y3R1cmUudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgTm90aWNlLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8vIE1PREFMU1xyXG5pbXBvcnQgeyBQcm9jZXNzSW5ib3hNb2RhbCB9IGZyb20gJy4vbW9kYWxzL3Byb2Nlc3NJbmJveE1vZGFsJztcclxuaW1wb3J0IHsgRXhhbXBsZU1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvZXhhbXBsZU1vZGFsJztcclxuaW1wb3J0IHsgQWRkVGFza1RvSW5ib3hNb2RhbCB9IGZyb20gJy4vbW9kYWxzL2FkZFRhc2tUb0luYm94TW9kYWwnO1xyXG5pbXBvcnQgeyBQcm9jZXNzRmlsZU1vZGFsIH0gZnJvbSAnbW9kYWxzL3Byb2Nlc3NGaWxlTW9kYWwnO1xyXG5pbXBvcnQgeyBUYXNrTWFuYWdlck1vZGFsIH0gZnJvbSAnbW9kYWxzL3Rhc2tNYW5hZ2VyTW9kYWwnO1xyXG5cclxuLy9GVU5DVElPTlNcclxuaW1wb3J0IHsgcHJvY2Vzc0luYm94IH0gZnJvbSAnZnVuY3Rpb25zL3Byb2Nlc3NJbmJveCc7XHJcbmltcG9ydCB7IGNyZWF0ZUd0ZFN0cnVjdHVyZSB9IGZyb20gJ2Z1bmN0aW9ucy9jcmVhdGVHdGRTdHJ1Y3R1cmUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuICAgIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ29wZW4tdGFzay1tYW5hZ2VyLW1vZGFsJyxcclxuICAgICAgICAgICAgbmFtZTogJ09wZW4gVGFzayBNYW5hZ2VyIE1vZGFsJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICBuZXcgVGFza01hbmFnZXJNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdjYWxlbmRhci1jbG9jaycsICdPcGVuIFRhc2sgTWFuYWdlciBNb2RhbCcsICgpID0+IHtcclxuICAgICAgICAgICAgbmV3IFRhc2tNYW5hZ2VyTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAncHJvY2Vzcy1zb21lZGF5JyxcclxuICAgICAgICAgICAgbmFtZTogJ1Byb2Nlc3MgU29tZWRheScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbmV3IFByb2Nlc3NGaWxlTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignYXJyb3ctZG93bi11cCcsICdQcm9jZXNzIFNvbWVkYXknLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9jZXNzRmlsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ3Byb2Nlc3MtaW5ib3gnLFxyXG4gICAgICAgICAgICBuYW1lOiAncHJvY2VzcyBJbmJveCcsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSW5ib3goKS50aGVuKCB0YXNrcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFByb2Nlc3NJbmJveE1vZGFsKHRoaXMuYXBwLCB0YXNrcykub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2ZvbGRlci1vdXRwdXQnLCAncHJvY2VzcyBJbmJveCcsICgpID0+IHtcclxuICAgICAgICAgICAgcHJvY2Vzc0luYm94KCkudGhlbiggdGFza3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmV3IFByb2Nlc3NJbmJveE1vZGFsKHRoaXMuYXBwLCB0YXNrcykub3BlbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiBcIkNyZWF0ZV9HdGRfU3RydWN0dXJlXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiQ3JlYXRlIEd0ZCBTdHJ1Y3R1cmVcIixcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUd0ZFN0cnVjdHVyZSgpLnRoZW4oIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnR1REIHN0cnVjdHVyZSBjcmVhdGVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnRXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ0FkZF9UYXNrX0luYm94JyxcclxuICAgICAgICAgICAgbmFtZTogJ0FkZCBUYXNrIHRvIEluYm94JyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwLCAodGV4dCkgPT4gdGhpcy5hZGRUYXNrVG9JYm94KHRleHQpKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdwYWNrYWdlLXBsdXMnLCAnQWRkIFRhc2sgdG8gSW5ib3gnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwLCAodGV4dCkgPT4gdGhpcy5hZGRUYXNrVG9JYm94KHRleHQpKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiBcImRpc3BsYXktbW9kYWxcIixcclxuICAgICAgICAgICAgbmFtZTogXCJEaXNwbGF5IG1vZGFsXCIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgRXhhbXBsZU1vZGFsKHRoaXMuYXBwLCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgSGVsbG8sICR7cmVzdWx0fSFgKTtcclxuICAgICAgICAgICAgICAgIH0pLm9wZW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuICAgICAgICBpdGVtLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiSGVsbG8gZnJvbSB0aGUgc3RhdHVzIGJhciBcdUQ4M0RcdURDNEJcIiB9KTtcclxuXHJcbiAgICAgICAgLyogTVkgVEVTVCAqL1xyXG4gICAgICAgIC8vIFRoaXMgYWRkcyBhIHN0YXR1cyBiYXIgaXRlbSB0byB0aGUgYm90dG9tIG9mIHRoZSBhcHAuIERvZXMgbm90IHdvcmsgb24gbW9iaWxlIGFwcHMuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XHJcbiAgICAgICAgc3RhdHVzQmFySXRlbUVsLnNldFRleHQoJ1N0YXR1cyBCYXIgVGV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9udW5sb2FkKCkge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoJ3VubG9hZGluZyBwbHVnaW4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0ZVTkNUSU9OU1xyXG4gICAgYXN5bmMgY3JlYXRlR3RkU3RydWN0dXJlKCkge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgYmFzZVBhdGggPSAnR1REJztcclxuXHJcbiAgICAgICAgY29uc3QgZm9sZGVycyA9IFtcclxuICAgICAgICAgICAgYmFzZVBhdGgsXHJcbiAgICAgICAgICAgIGAke2Jhc2VQYXRofS8xLiBQcm9qZWN0c2AsXHJcbiAgICAgICAgICAgIGAke2Jhc2VQYXRofS8yLiBTdGF5YCxcclxuICAgICAgICAgICAgYCR7YmFzZVBhdGh9LzMuIFNvbWVkYXlgLFxyXG4gICAgICAgICAgICBgJHtiYXNlUGF0aH0vNC4gQXJjaGl2ZWBcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zdCBmaWxlcyA9IFtcclxuICAgICAgICAgICAgeyBuYW1lOiBgJHtiYXNlUGF0aH0vSW5ib3gubWRgLCBkYXRhOiAnJyB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9Eb2N1bWVudGF0aW9uLm1kYCwgZGF0YTogJycgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiBgJHtiYXNlUGF0aH0vRm9sbG93Lm1kYCwgZGF0YTogJycgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXIpO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvbGRlciAke2ZvbGRlcn0gYWxyZWFkeSBleGlzdHMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIGRhdGEgfSA9IGZpbGU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB2YXVsdC5jcmVhdGUoYCR7bmFtZX1gLCBgJHtkYXRhfWApO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRmlsZSBmaWxlIGFscmVhZHkgZXhpc3RzLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXcgTm90aWNlKCdHVEQgc3RydWN0dXJlIGNyZWF0ZWQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYWRkVGFza1RvSWJveCh0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBmaWxlUGF0aCA9ICdHVEQvSW5ib3gubWQnO1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xyXG5cclxuICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIHRleHQudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IGAtIFsgXSAke3RleHR9YDtcclxuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IGNvbnRlbnQuaW5kZXhPZignIyBEb25lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUgKyB0ZXh0ICsgJ1xcbicgKyBhZnRlcjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCArPSAnXFxuJyArIHRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnVGFzayBhZGRlZCB0byBpbmJveCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnRVJST1InKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgJHtlfWApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0Q29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsIE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzSW5ib3hNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICB0YXNrczogc3RyaW5nW107XHJcbiAgc2VsZWN0ZWRGb2xkZXI6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBzZWxlY3RlZEZpbGU6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBuZXdGaWxlTmFtZTogc3RyaW5nO1xyXG4gIHRhc2tUYWc6IHN0cmluZztcclxuICB0YXNrVGltZTogc3RyaW5nO1xyXG4gIHRhc2tEYXRlOiBzdHJpbmc7XHJcbiAgdGFza0hvdXI6IHN0cmluZztcclxuXHJcbiAgdGFzazogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdGFza3M6IHN0cmluZ1tdKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gICAgdGhpcy50YXNrcyA9IHRhc2tzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVGFza3MnIH0pO1xyXG5cclxuICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy50YXNrcykge1xyXG4gICAgICBjb25zdCB0YXNrRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG4gICAgICB0YXNrRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0YXNrIH0pO1xyXG5cclxuICAgICAgLy9zZWxlY3RvciBkZSBjYXJwZXRhL2FyY2hpdm9cclxuICAgICAgbmV3IFNldHRpbmcodGFza0RpdilcclxuICAgICAgICAuc2V0TmFtZSgnU2VsZWN0IHRoZSBkZXN0aW5hdGlvbicpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignZGVmYXVsdCcsICcnKTtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMS4gUHJvamVjdHMnLCAnUHJvamVjdHMnKTtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMi4gU3RheScsICdTdGF5Jyk7XHJcbiAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzMuIFNvbWVkYXknLCAnU29tZWRheScpO1xyXG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdGb2xsb3cnLCAnRm9sbG93Jyk7XHJcblxyXG4gICAgICAgICAgbGV0IGZpbGVEcm9wZG93biA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IGZpbGVOYW1lID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgdGFnID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgdGltZSA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IGRhdGUgPSBuZXcgU2V0dGluZyh0YXNrRGl2KTtcclxuICAgICAgICAgIGxldCBob3VyID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcblxyXG4gICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRm9sZGVyID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBmaWxlRHJvcGRvd24uc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgZmlsZU5hbWUuc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGFnLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRpbWUuc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICBob3VyLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICdGb2xsb3cnICYmIHZhbHVlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChgR1RELyR7dmFsdWV9YCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChmaWxlcy5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgZmlsZURyb3Bkb3duLnNldE5hbWUoJ1NlbGVjdCBhIHByb2plY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZScpXHJcbiAgICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bihmaWxlRHJvcGRvd24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVEcm9wZG93bi5hZGRPcHRpb24oJ2RlZmF1bHQnLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzLmZpbGVzLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlRHJvcGRvd24uYWRkT3B0aW9uKGZpbGUsIHRoaXMuZ2V0TGFzdFBhcnQoZmlsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWxlRHJvcGRvd24ub25DaGFuZ2UoZmlsZVZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZmlsZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbGVOYW1lXHJcbiAgICAgICAgICAgICAgLnNldE5hbWUoJ1Byb2plY3QgbmFtZSBpZiB5b3UgZG8gbm90IGhhdmUgb25lIHNlbGVjdGVkJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLm5ld0ZpbGVOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRBR1xyXG4gICAgICAgICAgICB0YWcuc2V0TmFtZSgnVGFnJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRhc2tUYWcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLnNldHRpbmdFbC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJ3RydWUnKVxyXG4gICAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgICAgIC8vIERVUkFUSU9OIFRJTUVcclxuICAgICAgICAgICAgdGltZS5zZXROYW1lKCdEdXJhdGlvbiB0aW1lJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRhc2tUaW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIERBVEVcclxuICAgICAgICAgICAgZGF0ZS5zZXROYW1lKCdEYXRlJylcclxuICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdGV4dC5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFza0RhdGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSE9VUlxyXG4gICAgICAgICAgICBob3VyLnNldE5hbWUoJ0hvdXInKVxyXG4gICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHJpYnV0ZSgndHlwZScsICd0aW1lJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy50YXNrSG91ciA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBCVE4gUFJPQ0VTU1xyXG4gICAgICAgICAgdGFza0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUHJvY2VzcycgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NUYXNrKHRhc2spO1xyXG4gICAgICAgICAgICB0YXNrRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGdldExhc3RQYXJ0KHRleHQ6IHN0cmluZykge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gdGV4dC5sYXN0SW5kZXhPZignLycpO1xyXG4gICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGxhc3RTbGFzaEluZGV4ICsgMSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBhc3luYyBhZGRUYXNrVG9GaWxlKHRleHQ6IHN0cmluZywgZmlsZVBhdGg6IHN0cmluZykge1xyXG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XHJcblxyXG4gICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiB0ZXh0LnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGluc2VydFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCcjIERvbmUnKTtcclxuICAgICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gIT09IC0xKSB7XHJcbiAgICAgICAgICBjb25zdCBiZWZvcmUgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbik7XHJcbiAgICAgICAgICBjb25zdCBhZnRlciA9IGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTtcclxuICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUgKyB0ZXh0ICsgJ1xcbicgKyBhZnRlcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udGVudCArPSAnXFxuJyArIHRleHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgY29udGVudCk7XHJcbiAgICAgICAgbmV3IE5vdGljZSgnVGFzayBhZGRlZCcpO1xyXG5cclxuICAgICAgfVxyXG4gICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoJ0VSUk9SJyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciAke2V9YClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGFzeW5jIGRlbGV0ZVRhc2tGcm9tRmlsZShmaWxlUGF0aDogc3RyaW5nLCB0YXNrVG9EZWxldGU6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZVBhdGgpO1xyXG4gICAgICBjb25zdCBsaW5lcyA9IGZpbGVDb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICAgICAgY29uc3QgdXBkYXRlZExpbmVzID0gbGluZXMuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09IHRhc2tUb0RlbGV0ZS50cmltKCkpO1xyXG4gICAgICBjb25zdCB1cGRhdGVkQ29udGVudCA9IHVwZGF0ZWRMaW5lcy5qb2luKCdcXG4nKTtcclxuXHJcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIHVwZGF0ZWRDb250ZW50KTtcclxuICAgICAgbmV3IE5vdGljZSAoYFRhc2sgZGVsZXRlZDogJHt0YXNrVG9EZWxldGV9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHRhc2s6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGFzeW5jIGNyZWF0ZVByb3llY3QocGF0aDogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBkYXRhOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG5ld0ZpbGVQYXRoID0gYEdURC8ke3BhdGh9LyR7ZmlsZU5hbWV9Lm1kYDtcclxuICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlKG5ld0ZpbGVQYXRoLCBgJHtkYXRhfVxcbiMgRG9uZWApO1xyXG4gICAgICBuZXcgTm90aWNlKCdOZXcgcHJvamVjdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBuZXcgTm90aWNlKCdFcnJvcicpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgRmlsZSAke25ld0ZpbGVQYXRofSBhbHJlYWR5IGV4aXN0cy5gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3RmlsZVBhdGg7XHJcbiAgfVxyXG5cclxuXHJcbiAgYXN5bmMgcHJvY2Vzc1Rhc2sodGFzazogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBmb3JtYXR0ZWRUYXNrID0gYCR7dGFza30gIyR7dGhpcy50YXNrVGFnfSAqKiR7dGhpcy50YXNrVGltZX0qKiBcdUQ4M0RcdURDQzUgJHt0aGlzLnRhc2tEYXRlfSBbaG91cjo6JHt0aGlzLnRhc2tIb3VyfV1gO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRm9sZGVyID09PSAnRm9sbG93Jykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYWRkVGFza1RvRmlsZShmb3JtYXR0ZWRUYXNrLCBgR1RELyR7dGhpcy5zZWxlY3RlZEZvbGRlcn0ubWRgKTtcclxuICBcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkRmlsZSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVQcm95ZWN0KHRoaXMuc2VsZWN0ZWRGb2xkZXIsIHRoaXMubmV3RmlsZU5hbWUsIGZvcm1hdHRlZFRhc2spO1xyXG4gIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYWRkVGFza1RvRmlsZShmb3JtYXR0ZWRUYXNrLCB0aGlzLnNlbGVjdGVkRmlsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZGVsZXRlVGFza0Zyb21GaWxlKCdHVEQvSW5ib3gubWQnLCB0YXNrKTtcclxuICAgIH1cclxuICAgIGNhdGNoKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIHRhc2s6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59IiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmd9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEV4YW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIHJlc3VsdDogc3RyaW5nO1xyXG4gICAgb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcclxuICAgIH1cclxuICBcclxuICAgIG9uT3BlbigpIHtcclxuICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgXHJcbiAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgxXCIsIHsgdGV4dDogXCJXaGF0J3MgeW91ciBuYW1lP1wiIH0pO1xyXG4gIFxyXG4gICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJOYW1lXCIpXHJcbiAgICAgICAgLmFkZFRleHQoKHRleHQpID0+XHJcbiAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHZhbHVlXHJcbiAgICAgICAgICB9KSk7XHJcbiAgXHJcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgICAuYWRkQnV0dG9uKChidG4pID0+XHJcbiAgICAgICAgICBidG5cclxuICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJTdWJtaXRcIilcclxuICAgICAgICAgICAgLnNldEN0YSgpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5vblN1Ym1pdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgIH1cclxuICBcclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgIGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgfSIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBUZXh0Q29tcG9uZW50LCBCdXR0b25Db21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRUYXNrVG9JbmJveE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgb25TdWJtaXQ6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25TdWJtaXQ6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgICAgc3VwZXIoYXBwKTtcclxuICAgICAgdGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICBcclxuICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0FkZCB0YXNrJyB9KTtcclxuICBcclxuICAgICAgY29uc3QgdGV4dENvbXBvbmVudCA9IG5ldyBUZXh0Q29tcG9uZW50KGNvbnRlbnRFbCk7XHJcbiAgICAgIHRleHRDb21wb25lbnQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250ZW50RWwpO1xyXG4gICAgICBzdWJtaXRCdXR0b24uc2V0QnV0dG9uVGV4dCgnQWRkJykub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXQodGhpcy50ZXh0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgfSIsICJpbXBvcnQgeyBNb2RhbCwgQXBwLCBOb3RpY2UsIFNldHRpbmcsIFRBYnN0cmFjdEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzRmlsZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gICAgc2VsZWN0ZWRGaWxlOiBzdHJpbmc7XHJcbiAgICBzZWxlY3RlZERlc3RpbmF0aW9uOiBzdHJpbmcgPSAnZGVmYXVsdCc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgY29uc3QgaDIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTW92ZSBvciBEZWxldGUgUHJveWVjdCcgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tEaXZQYXJlbnQgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgdGFza0RpdlBhcmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzAwNkM4Qyc7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tEaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKHRhc2tEaXZQYXJlbnQpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdTZWxlY3QgZm9sZGVyIHRvIHByb2Nlc3MnKVxyXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdkZWZhdWx0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCcyLiBTdGF5JywgJ1N0YXknKTtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMy4gU29tZWRheScsICdTb21lZGF5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tEaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGBHVEQvJHt2YWx1ZX1gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChmb2xkZXJQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUxpc3QgPSBmaWxlcy5maWxlcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIGZpbGVzIGZvdW5kIGluIHRoZSBTb21lZGF5IGZvbGRlci4nIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0YXNrIG9mIGZpbGVMaXN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza0Rpdi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHRoaXMuZ2V0TGFzdFBhcnQodGFzaykgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldHRpbmcodGFza0RpdilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZSgnU2VsZWN0IHRoZSBkZXN0aW5hdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdkZWZhdWx0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzEuIFByb2plY3RzJywgJ1Byb2plY3RzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignMi4gU3RheScsICdTdGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignNC4gQXJjaGl2ZScsICdBcmNoaXZlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGVzdGluYXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdNb3ZlJyB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFzayAmJiB0aGlzLnNlbGVjdGVkRGVzdGluYXRpb24gIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1vdmVGaWxlKHRhc2ssIHRoaXMuc2VsZWN0ZWREZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIGZpbGUgYW5kIGZvbGRlciBmaXJzdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidG5EZWxldGUgPSB0YXNrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUnIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkRlbGV0ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0RBMTAxMCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmlsZSh0YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRGVsZXRlZCAke3Rhc2t9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIGZpbGUgZmlyc3QuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBtb3ZlRmlsZShmaWxlOiBzdHJpbmcsIGRlc3RpbmF0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2VQYXRoID0gZmlsZTtcclxuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBhdGggPSBgR1RELyR7ZGVzdGluYXRpb259LyR7dGhpcy5nZXRMYXN0UGFydChmaWxlKX1gO1xyXG4gICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHNvdXJjZVBhdGgpO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoYCR7ZGVzdGluYXRpb25QYXRofS9gLCBgJHtmaWxlQ29udGVudH1gKTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVGaWxlKGZpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExhc3RQYXJ0KHRleHQ6IHN0cmluZykge1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHRleHQubGFzdEluZGV4T2YoJy8nKTtcclxuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGxhc3RTbGFzaEluZGV4ICsgMSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZUZpbGUoZmlsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlbW92ZShmaWxlUGF0aCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBmaWxlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBNb2RhbCwgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbidcclxuXHJcbmV4cG9ydCBjbGFzcyBUYXNrTWFuYWdlck1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTWFuYWdlIFRhc2tzJyB9KTtcclxuXHJcbiAgICBjb25zdCBmb2xkZXJQYXRocyA9IFsnR1RELzEuIFByb2plY3RzJywgJ0dURC8yLiBTdGF5JywgJ0dURC8zLiBTb21lZGF5J107IC8vIEFjdHVhbGl6YSBlc3RhcyBydXRhcyBjb24gbGFzIGNhcnBldGFzIGVzcGVjXHUwMEVEZmljYXNcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBMZWVyIHRvZGFzIGxhcyB0YXJlYXMgZGUgbGFzIGNhcnBldGFzIGVzcGVjaWZpY2FkYXNcclxuICAgICAgY29uc3QgdGFza3MgPSBhd2FpdCB0aGlzLnJlYWRUYXNrc0Zyb21Gb2xkZXJzKGZvbGRlclBhdGhzKTtcclxuXHJcbiAgICAgIGlmICh0YXNrcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdObyB0YXNrcyBmb3VuZC4nIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRhc2tFbGVtZW50KHRhc2spO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWFkIHRhc2tzOicsIGVycm9yKTtcclxuICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmFpbGVkIHRvIGxvYWQgdGFza3MuJyB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHJlYWRUYXNrc0Zyb21Gb2xkZXJzKGZvbGRlcnM6IHN0cmluZ1tdKTogUHJvbWlzZTx7IGZpbGU6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyBsaW5lOiBudW1iZXIgfVtdPiB7XHJcbiAgICBjb25zdCB0YXNrczogeyBmaWxlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgbGluZTogbnVtYmVyIH1bXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmxpc3QoZm9sZGVyKTtcclxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLmZpbGVzKSB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBpZiAobGluZS5tYXRjaCgvLSBcXFsgXFxdLipcdUQ4M0RcdURDQzUgXFxkezR9LVxcZHsyfS1cXGR7Mn0vKSkge1xyXG4gICAgICAgICAgICB0YXNrcy5wdXNoKHsgZmlsZSwgY29udGVudDogbGluZSwgbGluZTogaW5kZXggfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGFza3M7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVUYXNrRWxlbWVudCh0YXNrOiB7IGZpbGU6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyBsaW5lOiBudW1iZXIgfSkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblxyXG4gICAgY29uc3QgdGFza0VsID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3Rhc2staXRlbScgfSk7XHJcbiAgXHJcbiAgICBjb25zdCBkYXRlTWF0Y2ggPSB0YXNrLmNvbnRlbnQubWF0Y2goL1x1RDgzRFx1RENDNSAoXFxkezR9LVxcZHsyfS1cXGR7Mn0pLyk7XHJcbiAgICBpZiAoZGF0ZU1hdGNoKSB7XHJcbiAgICAgIGNvbnN0IHRhc2tEYXRlID0gbmV3IERhdGUoZGF0ZU1hdGNoWzFdKTtcclxuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgaWYgKHRhc2tEYXRlIDwgY3VycmVudERhdGUpIHtcclxuICAgICAgICB0YXNrRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRhc2suY29udGVudCB9KTtcclxuICAgICAgICB0YXNrRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICcgKE92ZXJkdWUpJywgY2xzOiAnb3ZlcmR1ZScgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGVJbnB1dCA9IHRhc2tFbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdkYXRlJyB9KTtcclxuICAgICAgICBkYXRlSW5wdXQudmFsdWUgPSBkYXRlTWF0Y2hbMV07XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZUJ1dHRvbiA9IHRhc2tFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVXBkYXRlIERhdGUnIH0pO1xyXG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld0RhdGUgPSBkYXRlSW5wdXQudmFsdWU7XHJcblxyXG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVUYXNrKHRhc2suZmlsZSwgdGFzay5saW5lKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSB0YXNrLmNvbnRlbnQucmVwbGFjZSgvXHVEODNEXHVEQ0M1IFxcZHs0fS1cXGR7Mn0tXFxkezJ9LywgYFx1RDgzRFx1RENDNSAke25ld0RhdGV9YCk7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRhc2sodGFzay5maWxlLCB0YXNrLmxpbmUsIHVwZGF0ZWRDb250ZW50KTtcclxuICAgICAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgZGF0ZSB1cGRhdGVkLicpO1xyXG5cclxuICAgICAgICAgIHRhc2tFbC5lbXB0eSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0YXNrRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBUYXNrJyB9KTtcclxuICAgICAgICBkZWxldGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNEQTEwMTAnO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlVGFzayh0YXNrLmZpbGUsIHRhc2subGluZSk7XHJcbiAgICAgICAgICBuZXcgTm90aWNlKCdUYXNrIGRlbGV0ZWQuJyk7XHJcblxyXG4gICAgICAgICAgdGFza0VsLmVtcHR5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVRhc2soZmlsZTogc3RyaW5nLCBsaW5lOiBudW1iZXIsIG5ld0NvbnRlbnQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICBsaW5lc1tsaW5lXSA9IG5ld0NvbnRlbnQ7XHJcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGUsIGxpbmVzLmpvaW4oJ1xcbicpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZVRhc2soZmlsZTogc3RyaW5nLCBsaW5lOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZSk7XHJcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgbGluZXMuc3BsaWNlKGxpbmUsIDEpO1xyXG4gICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlLCBsaW5lcy5qb2luKCdcXG4nKSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICB9XHJcbn0iLCAiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NJbmJveCgpIHtcclxuICAgICAgICBsZXQgdGFza3M6IHN0cmluZ1tdO1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gJ0dURC9JbmJveC5tZCc7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlUGF0aCk7XHJcbiAgICAgICAgICBjb25zdCB0YXNrcyA9IGZpbGVDb250ZW50LnNwbGl0KCdcXG4nKS5maWx0ZXIoKGxpbmU6IHN0cmluZykgPT4gbGluZS5zdGFydHNXaXRoKCctIFsgXScpKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHRhc2tzO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWFkIGZpbGU6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSIsICJleHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR3RkU3RydWN0dXJlKCkge1xyXG4gICAgY29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdDtcclxuICAgIGNvbnN0IGJhc2VQYXRoID0gJ0dURCc7XHJcblxyXG4gICAgY29uc3QgZm9sZGVycyA9IFtcclxuICAgICAgICBiYXNlUGF0aCxcclxuICAgICAgICBgJHtiYXNlUGF0aH0vMS4gUHJvamVjdHNgLFxyXG4gICAgICAgIGAke2Jhc2VQYXRofS8yLiBTdGF5YCxcclxuICAgICAgICBgJHtiYXNlUGF0aH0vMy4gU29tZWRheWAsXHJcbiAgICAgICAgYCR7YmFzZVBhdGh9LzQuIEFyY2hpdmVgXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IGZpbGVzID0gW1xyXG4gICAgICAgIHsgbmFtZTogYCR7YmFzZVBhdGh9L0luYm94Lm1kYCwgZGF0YTogJycgfSxcclxuICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9Eb2N1bWVudGF0aW9uLm1kYCwgZGF0YTogJycgfSxcclxuICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9Gb2xsb3cubWRgLCBkYXRhOiAnJyB9XHJcbiAgICBdO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBmb2xkZXIgb2YgZm9sZGVycykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvbGRlciAke2ZvbGRlcn0gYWxyZWFkeSBleGlzdHMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBkYXRhIH0gPSBmaWxlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlKGAke25hbWV9YCwgYCR7ZGF0YX1gKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpbGUgZmlsZSBhbHJlYWR5IGV4aXN0cy5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQXNDOzs7QUNBdEMsc0JBQW1GO0FBRTVFLElBQU0sb0JBQU4sY0FBZ0Msc0JBQU07QUFBQSxFQVkzQyxZQUFZLEtBQVUsT0FBaUI7QUFDckMsVUFBTSxHQUFHO0FBWFgsMEJBQXlCO0FBQ3pCLHdCQUF1QjtBQVdyQixTQUFLLFFBQVE7QUFBQSxFQUNmO0FBQUEsRUFFQSxNQUFNLFNBQVM7QUFDYixVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUVoQixjQUFVLFNBQVMsTUFBTSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTFDLGFBQVMsUUFBUSxLQUFLLE9BQU87QUFDM0IsWUFBTSxVQUFVLFVBQVUsVUFBVTtBQUNwQyxjQUFRLFNBQVMsS0FBSyxFQUFFLE1BQU0sS0FBSyxDQUFDO0FBR3BDLFVBQUksd0JBQVEsT0FBTyxFQUNoQixRQUFRLHdCQUF3QixFQUNoQyxZQUFZLGNBQVk7QUFDdkIsaUJBQVMsVUFBVSxXQUFXLEVBQUU7QUFD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LElBQUk7QUFDN0MsVUFBSTtBQUNBLGVBQU8sU0FBUztBQUNoQixZQUFJLFVBQVUsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLElBQUk7QUFFNUMsY0FBTSxpQkFBaUIsUUFBUSxRQUFRLFFBQVE7QUFDL0MsWUFBSSxtQkFBbUIsSUFBSTtBQUN2QixnQkFBTSxTQUFTLFFBQVEsVUFBVSxHQUFHLGNBQWM7QUFDbEQsZ0JBQU0sUUFBUSxRQUFRLFVBQVUsY0FBYztBQUM5QyxvQkFBVSxTQUFTLE9BQU8sT0FBTztBQUFBLFFBQ3JDLE9BQU87QUFDSCxxQkFBVyxPQUFPO0FBQUEsUUFDdEI7QUFFQSxjQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sTUFBTSxPQUFPO0FBQ3pDLFlBQUksd0JBQU8scUJBQXFCO0FBQUEsTUFFcEMsU0FDTyxHQUFQO0FBQ0ksWUFBSSx3QkFBTyxPQUFPO0FBRWxCLGdCQUFRLElBQUksU0FBUyxHQUFHO0FBQUEsTUFDNUI7QUFBQSxJQUVKO0FBQUEsRUFDSjtBQUNKOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiZmlsZURyb3Bkb3duIiwgInZhbHVlIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImRyb3Bkb3duIiwgInZhbHVlIiwgImltcG9ydF9vYnNpZGlhbiIsICJ0YXNrcyJdCn0K
