/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// modals/processInboxModal.ts
var import_obsidian = require("obsidian");
var ProcessInboxModal = class extends import_obsidian.Modal {
  constructor(app, tasks) {
    super(app);
    this.selectedFolder = "default";
    this.selectedFile = "default";
    this.tasks = tasks;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Tasks" });
    for (let task of this.tasks) {
      const taskDiv = contentEl.createDiv();
      taskDiv.createEl("p", { text: task });
      new import_obsidian.Setting(taskDiv).setName("Select the destination").addDropdown((dropdown) => {
        dropdown.addOption("default", "");
        dropdown.addOption("1. Projects", "Projects");
        dropdown.addOption("2. Stay", "Stay");
        dropdown.addOption("3. Someday", "Someday");
        dropdown.addOption("Follow", "Follow");
        let fileDropdown = new import_obsidian.Setting(taskDiv);
        let fileName = new import_obsidian.Setting(taskDiv);
        let tag = new import_obsidian.Setting(taskDiv);
        let time = new import_obsidian.Setting(taskDiv);
        let date = new import_obsidian.Setting(taskDiv);
        let hour = new import_obsidian.Setting(taskDiv);
        let tag2 = new import_obsidian.Setting(taskDiv);
        dropdown.onChange(async (value) => {
          this.selectedFolder = value;
          fileDropdown.setName("").clear();
          fileName.setName("").clear();
          tag.setName("").clear();
          time.setName("").clear();
          date.setName("").clear();
          hour.setName("").clear();
          tag2.setName("").clear();
          if (value !== "Follow" && value !== "default") {
            const files = await this.app.vault.adapter.list(`GTD/${value}`);
            if (files.files) {
              fileDropdown.setName("Select a project or create a new one").addDropdown((fileDropdown2) => {
                fileDropdown2.addOption("default", "");
                files.files.forEach((file) => {
                  fileDropdown2.addOption(file, this.getLastPart(file));
                });
                fileDropdown2.onChange((fileValue) => {
                  this.selectedFile = fileValue;
                });
              });
            }
          }
          fileName.setName("Project name if you do not have one selected").addText((text) => {
            text.onChange((value2) => {
              this.newFileName = value2;
            });
          });
          tag.setName("Select the tag").addDropdown((dropdown2) => {
            dropdown2.addOption("default", "");
            dropdown2.addOption("UI", "UI");
            dropdown2.addOption("INU", "INU");
            dropdown2.addOption("UNI", "UNI");
            dropdown2.addOption("NUNI", "NUNI");
            dropdown2.onChange((value2) => {
              this.taskTag = value2;
            });
          });
          time.setName("Duration time").addText((text) => {
            text.onChange((value2) => {
              this.taskTime = value2;
            });
          });
          date.setName("Date").addText((text) => {
            text.inputEl.setAttribute("type", "date");
            text.onChange((value2) => {
              this.taskDate = value2;
            });
          });
          hour.setName("Hour").addText((text) => {
            text.inputEl.setAttribute("type", "time");
            text.onChange((value2) => {
              this.taskHour = value2;
            });
          });
        });
        taskDiv.createEl("button", { text: "Process" }).addEventListener("click", () => {
          this.processTask(task);
          taskDiv.empty();
        });
        const deleteButton = taskDiv.createEl("button", { text: "Delete Task" });
        deleteButton.style.backgroundColor = "#DA1010";
        deleteButton.addEventListener("click", async () => {
          await this.deleteTaskFromFile("GTD/Inbox.md", task);
          taskDiv.empty();
          new import_obsidian.Notice("Task deleted.");
        });
      });
    }
  }
  async deleteTaskFromFile(filePath, taskToDelete) {
    try {
      const fileContent = await this.app.vault.adapter.read(filePath);
      const lines = fileContent.split("\n");
      const updatedLines = lines.filter((line) => line.trim() !== taskToDelete.trim());
      const updatedContent = updatedLines.join("\n");
      await this.app.vault.adapter.write(filePath, updatedContent);
      new import_obsidian.Notice(`Task deleted: ${taskToDelete}`);
    } catch (error) {
      console.error("Failed to delete task:", error);
    }
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async addTaskToFile(text, filePath) {
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile && text.trim() !== "") {
      try {
        let content = await this.app.vault.read(file);
        const insertPosition = content.indexOf("# Done");
        if (insertPosition !== -1) {
          const before = content.substring(0, insertPosition);
          const after = content.substring(insertPosition);
          content = before + text + "\n" + after;
        } else {
          content += "\n" + text;
        }
        await this.app.vault.modify(file, content);
        new import_obsidian.Notice("Task added");
      } catch (e) {
        new import_obsidian.Notice("ERROR");
        console.log(`Error ${e}`);
      }
    }
  }
  async createProyect(path, fileName, data) {
    const newFilePath = `GTD/${path}/${fileName}.md`;
    const vault = this.app.vault;
    try {
      await vault.create(newFilePath, `${data}
# Done`);
      new import_obsidian.Notice("New project created successfully");
    } catch (e) {
      new import_obsidian.Notice("Error");
      console.log(`File ${newFilePath} already exists.`);
    }
    return newFilePath;
  }
  async processTask(task) {
    const formattedTask = `${task} #${this.taskTag} **${this.taskTime}** \u{1F4C5} ${this.taskDate} [hour::${this.taskHour}]`;
    try {
      if (this.selectedFolder === "Follow") {
        await this.addTaskToFile(formattedTask, `GTD/${this.selectedFolder}.md`);
      } else if (this.selectedFile === "default") {
        await this.createProyect(this.selectedFolder, this.newFileName, formattedTask);
      } else {
        await this.addTaskToFile(formattedTask, this.selectedFile);
      }
      await this.deleteTaskFromFile("GTD/Inbox.md", task);
    } catch (error) {
      console.error("Error handling task:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/addTaskToInboxModal.ts
var import_obsidian2 = require("obsidian");
var AddTaskToInboxModal = class extends import_obsidian2.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Add task" });
    const textComponent = new import_obsidian2.TextComponent(contentEl);
    textComponent.onChange((value) => {
      this.text = value;
    });
    const submitButton = new import_obsidian2.ButtonComponent(contentEl);
    submitButton.setButtonText("Add").onClick(() => {
      addTaskToIbox(this.text, import_obsidian2.TFile).then(() => {
        new import_obsidian2.Notice("Task added to inbox");
      });
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
async function addTaskToIbox(text, TFile5) {
  const filePath = "GTD/Inbox.md";
  const file = this.app.vault.getAbstractFileByPath(filePath);
  if (file instanceof TFile5 && text.trim() !== "") {
    try {
      text = `- [ ] ${text}`;
      let content = await this.app.vault.read(file);
      const insertPosition = content.indexOf("# Done");
      if (insertPosition !== -1) {
        const before = content.substring(0, insertPosition);
        const after = content.substring(insertPosition);
        content = before + text + "\n" + after;
      } else {
        content += "\n" + text;
      }
      await this.app.vault.modify(file, content);
      return true;
    } catch (e) {
      console.log(`Error ${e}`);
      return false;
    }
  }
}

// modals/processFileModal.ts
var import_obsidian3 = require("obsidian");
var ProcessFileModal = class extends import_obsidian3.Modal {
  constructor(app) {
    super(app);
    this.selectedDestination = "default";
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const h2 = contentEl.createEl("h2", { text: "Move or Delete Proyect" });
    const taskDivParent = contentEl.createDiv();
    taskDivParent.style.backgroundColor = "#006C8C";
    const taskDiv = contentEl.createDiv();
    new import_obsidian3.Setting(taskDivParent).setName("Select folder to process").addDropdown((dropdown) => {
      dropdown.addOption("default", "");
      dropdown.addOption("2. Stay", "Stay");
      dropdown.addOption("3. Someday", "Someday");
      dropdown.onChange(async (value) => {
        taskDiv.empty();
        const folderPath = `GTD/${value}`;
        try {
          const files = await this.app.vault.adapter.list(folderPath);
          const fileList = files.files;
          if (fileList.length === 0) {
            contentEl.createEl("p", { text: "No files found in the Someday folder." });
            return;
          }
          for (let task of fileList) {
            const taskDivtask = contentEl.createDiv();
            taskDivtask.createEl("h3", { text: this.getLastPart(task) });
            new import_obsidian3.Setting(taskDivtask).setName("Select the destination").addDropdown((dropdown2) => {
              dropdown2.addOption("default", "");
              dropdown2.addOption("1. Projects", "Projects");
              dropdown2.addOption("2. Stay", "Stay");
              dropdown2.addOption("4. Archive", "Archive");
              dropdown2.onChange(async (value2) => {
                this.selectedDestination = value2;
              });
            });
            taskDivtask.createEl("button", { text: "Move" }).addEventListener("click", async () => {
              if (task && this.selectedDestination !== "default") {
                await this.moveFile(task, this.selectedDestination);
                taskDivtask.empty();
              } else {
                new import_obsidian3.Notice("Please select a file and folder first.");
              }
            });
            const btnDelete = taskDivtask.createEl("button", { text: "Delete" });
            btnDelete.style.backgroundColor = "#DA1010";
            btnDelete.addEventListener("click", async () => {
              if (task) {
                await this.deleteFile(task);
                new import_obsidian3.Notice(`Deleted ${task}`);
                taskDivtask.empty();
              } else {
                new import_obsidian3.Notice("Please select a file first.");
              }
            });
          }
        } catch (error) {
          console.log(error);
        }
      });
    });
  }
  async moveFile(file, destination) {
    const sourcePath = file;
    const destinationPath = `GTD/${destination}/${this.getLastPart(file)}`;
    const fileContent = await this.app.vault.adapter.read(sourcePath);
    await this.app.vault.create(`${destinationPath}/`, `${fileContent}`);
    await this.deleteFile(file);
  }
  getLastPart(text) {
    try {
      const lastSlashIndex = text.lastIndexOf("/");
      if (lastSlashIndex === -1) {
        return text;
      }
      return text.substring(lastSlashIndex + 1);
    } catch (error) {
      throw error;
    }
  }
  async deleteFile(file) {
    const filePath = file;
    try {
      await this.app.vault.adapter.remove(filePath);
    } catch (error) {
      console.error("Failed to delete file:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// modals/taskManagerModal.ts
var import_obsidian4 = require("obsidian");
var TaskManagerModal = class extends import_obsidian4.Modal {
  constructor(app) {
    super(app);
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Manage Tasks" });
    const folderPaths = ["GTD/1. Projects", "GTD/2. Stay", "GTD/3. Someday"];
    const specificFilePath = "GTD/Follow.md";
    try {
      const tasks = await this.readTasksFromFoldersAndFile(folderPaths, specificFilePath);
      if (tasks.length === 0) {
        contentEl.createEl("p", { text: "No tasks found." });
        return;
      }
      tasks.forEach((task) => {
        this.createTaskElement(task);
      });
    } catch (error) {
      console.error("Failed to read tasks:", error);
      contentEl.createEl("p", { text: "Failed to load tasks." });
    }
  }
  async readTasksFromFoldersAndFile(folders, specificFile) {
    const tasks = [];
    for (const folder of folders) {
      const files = await this.app.vault.adapter.list(folder);
      for (const file of files.files) {
        const content2 = await this.app.vault.adapter.read(file);
        const lines2 = content2.split("\n");
        lines2.forEach((line, index) => {
          if (line.match(/- \[ \].*📅 \d{4}-\d{2}-\d{2}/)) {
            tasks.push({ file, content: line, line: index });
          }
        });
      }
    }
    const content = await this.app.vault.adapter.read(specificFile);
    const lines = content.split("\n");
    lines.forEach((line, index) => {
      if (line.match(/- \[ \].*📅 \d{4}-\d{2}-\d{2}/)) {
        tasks.push({ file: specificFile, content: line, line: index });
      }
    });
    return tasks;
  }
  createTaskElement(task) {
    const { contentEl } = this;
    const taskEl = contentEl.createEl("div", { cls: "task-item" });
    const dateMatch = task.content.match(/📅 (\d{4}-\d{2}-\d{2})/);
    const hourMatch = task.content.match(/\[hour::(\d{2}:\d{2})-(\d{2}:\d{2})\]/);
    const dateInput = taskEl.createEl("input", { type: "date" });
    const startHourInput = taskEl.createEl("input", { type: "time" });
    const endHourInput = taskEl.createEl("input", { type: "time" });
    if (dateMatch) {
      dateInput.value = dateMatch[1];
    }
    if (hourMatch) {
      const [_, startHour, endHour] = hourMatch;
      startHourInput.value = startHour;
      endHourInput.value = endHour;
    }
    const taskContentParts = task.content.split(/(📅 \d{4}-\d{2}-\d{2})|\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/);
    taskContentParts.forEach((part) => {
      if (part == null ? void 0 : part.match(/📅 \d{4}-\d{2}-\d{2}/)) {
      } else if (part == null ? void 0 : part.match(/\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/)) {
      } else if (part) {
        taskEl.createEl("span", { text: part });
      }
    });
    taskEl.appendChild(dateInput);
    taskEl.appendChild(startHourInput);
    taskEl.appendChild(endHourInput);
    const updateButton = taskEl.createEl("button", { text: "Update Task" });
    updateButton.addEventListener("click", async () => {
      const newDate = dateInput.value;
      const newStartHour = startHourInput.value;
      const newEndHour = endHourInput.value;
      let updatedContent = task.content.replace(/📅 \d{4}-\d{2}-\d{2}/, `\u{1F4C5} ${newDate}`).replace(/\[hour::\d{2}:\d{2}-\d{2}:\d{2}\]/, `[hour::${newStartHour}-${newEndHour}]`);
      await this.updateTask(task.file, task.line, updatedContent);
      new import_obsidian4.Notice("Task updated.");
      taskEl.empty();
    });
    const deleteButton = taskEl.createEl("button", { text: "Delete Task" });
    deleteButton.style.backgroundColor = "#DA1010";
    deleteButton.addEventListener("click", async () => {
      await this.deleteTask(task.file, task.line);
      new import_obsidian4.Notice("Task deleted.");
      taskEl.empty();
    });
  }
  async updateTask(file, line, newContent) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines[line] = newContent;
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  async deleteTask(file, line) {
    const content = await this.app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.splice(line, 1);
    await this.app.vault.adapter.write(file, lines.join("\n"));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// functions/processInbox.ts
async function processInbox() {
  let tasks;
  const filePath = "GTD/Inbox.md";
  try {
    const fileContent = await this.app.vault.adapter.read(filePath);
    const tasks2 = fileContent.split("\n").filter((line) => line.startsWith("- [ ]"));
    return tasks2;
  } catch (error) {
    console.error("Failed to read file:", error);
  }
}

// functions/createGtdStructure.ts
async function createGtdStructure() {
  const vault = this.app.vault;
  const basePath = "GTD";
  const folders = [
    basePath,
    `${basePath}/1. Projects`,
    `${basePath}/2. Stay`,
    `${basePath}/3. Someday`,
    `${basePath}/4. Archive`
  ];
  const files = [
    { name: `${basePath}/Inbox.md`, data: "" },
    { name: `${basePath}/Documentation.md`, data: "" },
    { name: `${basePath}/Follow.md`, data: "" }
  ];
  try {
    for await (const folder of folders) {
      try {
        await vault.createFolder(folder);
      } catch (e) {
        console.log(`Folder ${folder} already exists.`);
      }
    }
    for await (const file of files) {
      const { name, data } = file;
      try {
        await vault.create(`${name}`, `${data}`);
      } catch (e) {
        console.log(`File file already exists.`);
      }
    }
    return true;
  } catch (e) {
    return false;
  }
}

// modals/moveCompletedTasks.ts
var import_obsidian5 = require("obsidian");
async function moveCompletedTasks(app) {
  const activeFile = app.workspace.getActiveFile();
  if (!activeFile) {
    new import_obsidian5.Notice("No active file open.");
    return;
  }
  const content = await app.vault.read(activeFile);
  const lines = content.split("\n");
  const completedTasks = [];
  const newContent = lines.filter((line) => {
    if (line.match(/- \[x\]/)) {
      completedTasks.push(line);
      return false;
    }
    return true;
  }).join("\n");
  const doneSectionIndex = newContent.indexOf("# Done");
  let updatedContent = "";
  if (doneSectionIndex !== -1) {
    const beforeDoneSection = newContent.substring(0, doneSectionIndex + 6);
    const afterDoneSection = newContent.substring(doneSectionIndex + 6);
    updatedContent = `${beforeDoneSection}
${completedTasks.join("\n")}
${afterDoneSection}`;
  } else {
    updatedContent = `${newContent}
# Done
${completedTasks.join("\n")}`;
  }
  await app.vault.modify(activeFile, updatedContent);
  new import_obsidian5.Notice("Completed tasks moved to # Done section.");
}

// functions/moveAllDoneTasks.ts
var import_obsidian6 = require("obsidian");
async function moveAllDoneTasks(app) {
  const targetFile = await getOrCreateFile(app, "GTD/Tasks Done.md");
  const completedTasks = [];
  await processFolder(app, "GTD", completedTasks);
  if (completedTasks.length === 0) {
    new import_obsidian6.Notice("No completed tasks found.");
    return;
  }
  const targetContent = await app.vault.read(targetFile);
  const updatedContent = `${targetContent}${completedTasks.join("\n")}`;
  await app.vault.modify(targetFile, updatedContent);
  new import_obsidian6.Notice("Completed tasks moved to target file.");
}
async function processFolder(app, folderPath, completedTasks) {
  const files = await app.vault.adapter.list(folderPath);
  for (const file of files.files) {
    const content = await app.vault.adapter.read(file);
    const lines = content.split("\n");
    lines.forEach((line) => {
      if (line.match(/- \[x\]/)) {
        completedTasks.push(line);
      }
    });
    const newContent = lines.filter((line) => !line.match(/- \[x\]/)).join("\n");
    await app.vault.adapter.write(file, newContent);
  }
  for (const folder of files.folders) {
    await processFolder(app, folder, completedTasks);
  }
}
async function getOrCreateFile(app, filePath) {
  let file = app.vault.getAbstractFileByPath(filePath);
  if (!file) {
    await app.vault.create(filePath, "");
    file = app.vault.getAbstractFileByPath(filePath);
  }
  return file;
}

// main.ts
var MyPlugin = class extends import_obsidian7.Plugin {
  async onload() {
    this.addCommand({
      id: "Create_Gtd_Structure",
      name: "Create Gtd Structure",
      callback: () => {
        createGtdStructure().then((result) => {
          if (result) {
            new import_obsidian7.Notice("GTD structure created!");
          } else {
            new import_obsidian7.Notice("Error");
          }
        });
      }
    });
    this.addCommand({
      id: "Add_Task_Inbox",
      name: "Add Task to Inbox",
      callback: () => {
        new AddTaskToInboxModal(this.app).open();
      }
    });
    this.addRibbonIcon("package-plus", "Add Task to Inbox", () => {
      new AddTaskToInboxModal(this.app).open();
    });
    this.addCommand({
      id: "open-task-manager",
      name: "Open Task Manager",
      callback: () => {
        new TaskManagerModal(this.app).open();
      }
    });
    this.addRibbonIcon("calendar-clock", "Open Task Manager", () => {
      new TaskManagerModal(this.app).open();
    });
    this.addCommand({
      id: "process-file",
      name: "Process File",
      callback: () => {
        new ProcessFileModal(this.app).open();
      }
    });
    this.addRibbonIcon("arrow-down-up", "Process File", () => {
      new ProcessFileModal(this.app).open();
    });
    this.addCommand({
      id: "process-inbox",
      name: "Process Inbox",
      callback: () => {
        processInbox().then((tasks) => {
          new ProcessInboxModal(this.app, tasks).open();
        });
      }
    });
    this.addRibbonIcon("folder-output", "Process Inbox", () => {
      processInbox().then((tasks) => {
        new ProcessInboxModal(this.app, tasks).open();
      });
    });
    this.addCommand({
      id: "move-completed-to-done",
      name: "Move Completed Tasks to Done",
      callback: () => moveCompletedTasks(this.app)
    });
    this.addCommand({
      id: "move-all-completed-tasks-done",
      name: "Move All Completed Asks Done",
      callback: () => moveAllDoneTasks(this.app)
    });
    this.addRibbonIcon("file-check", "Move All Completed Asks Done", () => {
      moveAllDoneTasks(this.app);
    });
  }
  onunload() {
    new import_obsidian7.Notice("unloading plugin");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJtb2RhbHMvcHJvY2Vzc0luYm94TW9kYWwudHMiLCAibW9kYWxzL2FkZFRhc2tUb0luYm94TW9kYWwudHMiLCAibW9kYWxzL3Byb2Nlc3NGaWxlTW9kYWwudHMiLCAibW9kYWxzL3Rhc2tNYW5hZ2VyTW9kYWwudHMiLCAiZnVuY3Rpb25zL3Byb2Nlc3NJbmJveC50cyIsICJmdW5jdGlvbnMvY3JlYXRlR3RkU3RydWN0dXJlLnRzIiwgIm1vZGFscy9tb3ZlQ29tcGxldGVkVGFza3MudHMiLCAiZnVuY3Rpb25zL21vdmVBbGxEb25lVGFza3MudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLy8gTU9EQUxTXHJcbmltcG9ydCB7IFByb2Nlc3NJbmJveE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvcHJvY2Vzc0luYm94TW9kYWwnO1xyXG5pbXBvcnQgeyBBZGRUYXNrVG9JbmJveE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvYWRkVGFza1RvSW5ib3hNb2RhbCc7XHJcbmltcG9ydCB7IFByb2Nlc3NGaWxlTW9kYWwgfSBmcm9tICdtb2RhbHMvcHJvY2Vzc0ZpbGVNb2RhbCc7XHJcbmltcG9ydCB7IFRhc2tNYW5hZ2VyTW9kYWwgfSBmcm9tICdtb2RhbHMvdGFza01hbmFnZXJNb2RhbCc7XHJcblxyXG4vL0ZVTkNUSU9OU1xyXG5pbXBvcnQgeyBwcm9jZXNzSW5ib3ggfSBmcm9tICdmdW5jdGlvbnMvcHJvY2Vzc0luYm94JztcclxuaW1wb3J0IHsgY3JlYXRlR3RkU3RydWN0dXJlIH0gZnJvbSAnZnVuY3Rpb25zL2NyZWF0ZUd0ZFN0cnVjdHVyZSc7XHJcbmltcG9ydCB7IG1vdmVDb21wbGV0ZWRUYXNrcyB9IGZyb20gJ21vZGFscy9tb3ZlQ29tcGxldGVkVGFza3MnO1xyXG5pbXBvcnQgeyBtb3ZlQWxsRG9uZVRhc2tzIH0gZnJvbSAnZnVuY3Rpb25zL21vdmVBbGxEb25lVGFza3MnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuICAgIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogXCJDcmVhdGVfR3RkX1N0cnVjdHVyZVwiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIkNyZWF0ZSBHdGQgU3RydWN0dXJlXCIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVHdGRTdHJ1Y3R1cmUoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdHVEQgc3RydWN0dXJlIGNyZWF0ZWQhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ0FkZF9UYXNrX0luYm94JyxcclxuICAgICAgICAgICAgbmFtZTogJ0FkZCBUYXNrIHRvIEluYm94JyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdwYWNrYWdlLXBsdXMnLCAnQWRkIFRhc2sgdG8gSW5ib3gnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBBZGRUYXNrVG9JbmJveE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ29wZW4tdGFzay1tYW5hZ2VyJyxcclxuICAgICAgICAgICAgbmFtZTogJ09wZW4gVGFzayBNYW5hZ2VyJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBUYXNrTWFuYWdlck1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdjYWxlbmRhci1jbG9jaycsICdPcGVuIFRhc2sgTWFuYWdlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbmV3IFRhc2tNYW5hZ2VyTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAncHJvY2Vzcy1maWxlJyxcclxuICAgICAgICAgICAgbmFtZTogJ1Byb2Nlc3MgRmlsZScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0ZpbGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignYXJyb3ctZG93bi11cCcsICdQcm9jZXNzIEZpbGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9jZXNzRmlsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ3Byb2Nlc3MtaW5ib3gnLFxyXG4gICAgICAgICAgICBuYW1lOiAnUHJvY2VzcyBJbmJveCcsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSW5ib3goKS50aGVuKHRhc2tzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0luYm94TW9kYWwodGhpcy5hcHAsIHRhc2tzKS5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2ZvbGRlci1vdXRwdXQnLCAnUHJvY2VzcyBJbmJveCcsICgpID0+IHtcclxuICAgICAgICAgICAgcHJvY2Vzc0luYm94KCkudGhlbih0YXNrcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgUHJvY2Vzc0luYm94TW9kYWwodGhpcy5hcHAsIHRhc2tzKS5vcGVuKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6ICdtb3ZlLWNvbXBsZXRlZC10by1kb25lJyxcclxuICAgICAgICAgICAgbmFtZTogJ01vdmUgQ29tcGxldGVkIFRhc2tzIHRvIERvbmUnLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gbW92ZUNvbXBsZXRlZFRhc2tzKHRoaXMuYXBwKVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6ICdtb3ZlLWFsbC1jb21wbGV0ZWQtdGFza3MtZG9uZScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdNb3ZlIEFsbCBDb21wbGV0ZWQgQXNrcyBEb25lJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IG1vdmVBbGxEb25lVGFza3ModGhpcy5hcHApXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignZmlsZS1jaGVjaycsICdNb3ZlIEFsbCBDb21wbGV0ZWQgQXNrcyBEb25lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb3ZlQWxsRG9uZVRhc2tzKHRoaXMuYXBwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbnVubG9hZCgpIHtcclxuICAgICAgICBuZXcgTm90aWNlKCd1bmxvYWRpbmcgcGx1Z2luJyk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcsIE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzSW5ib3hNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICB0YXNrczogc3RyaW5nW107XHJcbiAgc2VsZWN0ZWRGb2xkZXI6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBzZWxlY3RlZEZpbGU6IHN0cmluZyA9ICdkZWZhdWx0JztcclxuICBuZXdGaWxlTmFtZTogc3RyaW5nO1xyXG4gIHRhc2tUYWc6IHN0cmluZztcclxuICB0YXNrVGltZTogc3RyaW5nO1xyXG4gIHRhc2tEYXRlOiBzdHJpbmc7XHJcbiAgdGFza0hvdXI6IHN0cmluZztcclxuXHJcbiAgdGFzazogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdGFza3M6IHN0cmluZ1tdKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gICAgdGhpcy50YXNrcyA9IHRhc2tzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVGFza3MnIH0pO1xyXG5cclxuICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy50YXNrcykge1xyXG4gICAgICBjb25zdCB0YXNrRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG4gICAgICB0YXNrRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0YXNrIH0pO1xyXG5cclxuICAgICAgLy8gU2VsZWN0b3IgZGUgY2FycGV0YS9hcmNoaXZvXHJcbiAgICAgIG5ldyBTZXR0aW5nKHRhc2tEaXYpXHJcbiAgICAgICAgLnNldE5hbWUoJ1NlbGVjdCB0aGUgZGVzdGluYXRpb24nKVxyXG4gICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcbiAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ2RlZmF1bHQnLCAnJyk7XHJcbiAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzEuIFByb2plY3RzJywgJ1Byb2plY3RzJyk7XHJcbiAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzIuIFN0YXknLCAnU3RheScpO1xyXG4gICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCczLiBTb21lZGF5JywgJ1NvbWVkYXknKTtcclxuICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignRm9sbG93JywgJ0ZvbGxvdycpO1xyXG5cclxuICAgICAgICAgIGxldCBmaWxlRHJvcGRvd24gPSBuZXcgU2V0dGluZyh0YXNrRGl2KTtcclxuICAgICAgICAgIGxldCBmaWxlTmFtZSA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IHRhZyA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IHRpbWUgPSBuZXcgU2V0dGluZyh0YXNrRGl2KTtcclxuICAgICAgICAgIGxldCBkYXRlID0gbmV3IFNldHRpbmcodGFza0Rpdik7XHJcbiAgICAgICAgICBsZXQgaG91ciA9IG5ldyBTZXR0aW5nKHRhc2tEaXYpO1xyXG4gICAgICAgICAgbGV0IHRhZzIgPSBuZXcgU2V0dGluZyh0YXNrRGl2KTtcclxuXHJcbiAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGb2xkZXIgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGZpbGVEcm9wZG93bi5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICBmaWxlTmFtZS5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0YWcuc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGltZS5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG4gICAgICAgICAgICBkYXRlLnNldE5hbWUoJycpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGhvdXIuc2V0TmFtZSgnJykuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGFnMi5zZXROYW1lKCcnKS5jbGVhcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnRm9sbG93JyAmJiB2YWx1ZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmxpc3QoYEdURC8ke3ZhbHVlfWApO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoZmlsZXMuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIGZpbGVEcm9wZG93bi5zZXROYW1lKCdTZWxlY3QgYSBwcm9qZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUnKVxyXG4gICAgICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oZmlsZURyb3Bkb3duID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlRHJvcGRvd24uYWRkT3B0aW9uKCdkZWZhdWx0JywgJycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWxlcy5maWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZmlsZURyb3Bkb3duLmFkZE9wdGlvbihmaWxlLCB0aGlzLmdldExhc3RQYXJ0KGZpbGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZURyb3Bkb3duLm9uQ2hhbmdlKGZpbGVWYWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IGZpbGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlTmFtZVxyXG4gICAgICAgICAgICAgIC5zZXROYW1lKCdQcm9qZWN0IG5hbWUgaWYgeW91IGRvIG5vdCBoYXZlIG9uZSBzZWxlY3RlZCcpXHJcbiAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5uZXdGaWxlTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUQUdcclxuICAgICAgICAgICAgdGFnLnNldE5hbWUoJ1NlbGVjdCB0aGUgdGFnJylcclxuICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdkZWZhdWx0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdVSScsICdVSScpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdJTlUnLCAnSU5VJyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ1VOSScsICdVTkknKTtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignTlVOSScsICdOVU5JJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRhc2tUYWcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRFVSQVRJT04gVElNRVxyXG4gICAgICAgICAgICB0aW1lLnNldE5hbWUoJ0R1cmF0aW9uIHRpbWUnKVxyXG4gICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFza1RpbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gREFURVxyXG4gICAgICAgICAgICBkYXRlLnNldE5hbWUoJ0RhdGUnKVxyXG4gICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy50YXNrRGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBIT1VSXHJcbiAgICAgICAgICAgIGhvdXIuc2V0TmFtZSgnSG91cicpXHJcbiAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RpbWUnKTtcclxuICAgICAgICAgICAgICAgIHRleHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnRhc2tIb3VyID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIEJUTiBQUk9DRVNTXHJcbiAgICAgICAgICB0YXNrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdQcm9jZXNzJyB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzVGFzayh0YXNrKTtcclxuICAgICAgICAgICAgdGFza0Rpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGFza0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRGVsZXRlIFRhc2snIH0pO1xyXG4gICAgICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjREExMDEwJztcclxuICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVUYXNrRnJvbUZpbGUoJ0dURC9JbmJveC5tZCcsIHRhc2spO1xyXG4gICAgICAgICAgICB0YXNrRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgZGVsZXRlZC4nKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlVGFza0Zyb21GaWxlKGZpbGVQYXRoOiBzdHJpbmcsIHRhc2tUb0RlbGV0ZTogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlUGF0aCk7XHJcbiAgICAgIGNvbnN0IGxpbmVzID0gZmlsZUNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgICBjb25zdCB1cGRhdGVkTGluZXMgPSBsaW5lcy5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSAhPT0gdGFza1RvRGVsZXRlLnRyaW0oKSk7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZW50ID0gdXBkYXRlZExpbmVzLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlUGF0aCwgdXBkYXRlZENvbnRlbnQpO1xyXG4gICAgICBuZXcgTm90aWNlKGBUYXNrIGRlbGV0ZWQ6ICR7dGFza1RvRGVsZXRlfWApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB0YXNrOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldExhc3RQYXJ0KHRleHQ6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbGFzdFNsYXNoSW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKCcvJyk7XHJcbiAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcobGFzdFNsYXNoSW5kZXggKyAxKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWRkVGFza1RvRmlsZSh0ZXh0OiBzdHJpbmcsIGZpbGVQYXRoOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xyXG5cclxuICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgdGV4dC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICBjb25zdCBpbnNlcnRQb3NpdGlvbiA9IGNvbnRlbnQuaW5kZXhPZignIyBEb25lJyk7XHJcbiAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uICE9PSAtMSkge1xyXG4gICAgICAgICAgY29uc3QgYmVmb3JlID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pO1xyXG4gICAgICAgICAgY29uc3QgYWZ0ZXIgPSBjb250ZW50LnN1YnN0cmluZyhpbnNlcnRQb3NpdGlvbik7XHJcbiAgICAgICAgICBjb250ZW50ID0gYmVmb3JlICsgdGV4dCArICdcXG4nICsgYWZ0ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnRlbnQgKz0gJ1xcbicgKyB0ZXh0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNvbnRlbnQpO1xyXG4gICAgICAgIG5ldyBOb3RpY2UoJ1Rhc2sgYWRkZWQnKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoJ0VSUk9SJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yICR7ZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlUHJveWVjdChwYXRoOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZykge1xyXG4gICAgY29uc3QgbmV3RmlsZVBhdGggPSBgR1RELyR7cGF0aH0vJHtmaWxlTmFtZX0ubWRgO1xyXG4gICAgY29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB2YXVsdC5jcmVhdGUobmV3RmlsZVBhdGgsIGAke2RhdGF9XFxuIyBEb25lYCk7XHJcbiAgICAgIG5ldyBOb3RpY2UoJ05ldyBwcm9qZWN0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIG5ldyBOb3RpY2UoJ0Vycm9yJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBGaWxlICR7bmV3RmlsZVBhdGh9IGFscmVhZHkgZXhpc3RzLmApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdGaWxlUGF0aDtcclxuICB9XHJcblxyXG4gIGFzeW5jIHByb2Nlc3NUYXNrKHRhc2s6IHN0cmluZykge1xyXG4gICAgY29uc3QgZm9ybWF0dGVkVGFzayA9IGAke3Rhc2t9ICMke3RoaXMudGFza1RhZ30gKioke3RoaXMudGFza1RpbWV9KiogXHVEODNEXHVEQ0M1ICR7dGhpcy50YXNrRGF0ZX0gW2hvdXI6OiR7dGhpcy50YXNrSG91cn1dYDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEZvbGRlciA9PT0gJ0ZvbGxvdycpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmFkZFRhc2tUb0ZpbGUoZm9ybWF0dGVkVGFzaywgYEdURC8ke3RoaXMuc2VsZWN0ZWRGb2xkZXJ9Lm1kYCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEZpbGUgPT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUHJveWVjdCh0aGlzLnNlbGVjdGVkRm9sZGVyLCB0aGlzLm5ld0ZpbGVOYW1lLCBmb3JtYXR0ZWRUYXNrKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmFkZFRhc2tUb0ZpbGUoZm9ybWF0dGVkVGFzaywgdGhpcy5zZWxlY3RlZEZpbGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVRhc2tGcm9tRmlsZSgnR1REL0luYm94Lm1kJywgdGFzayk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyB0YXNrOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gIH1cclxufSIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBUZXh0Q29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsIFRGaWxlLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRUYXNrVG9JbmJveE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gIHRleHQ6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgIHN1cGVyKGFwcCk7XHJcbiAgfVxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQWRkIHRhc2snIH0pO1xyXG5cclxuICAgIGNvbnN0IHRleHRDb21wb25lbnQgPSBuZXcgVGV4dENvbXBvbmVudChjb250ZW50RWwpO1xyXG4gICAgdGV4dENvbXBvbmVudC5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcbiAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250ZW50RWwpO1xyXG4gICAgc3VibWl0QnV0dG9uLnNldEJ1dHRvblRleHQoJ0FkZCcpLm9uQ2xpY2soKCkgPT4ge1xyXG5cclxuICAgICAgYWRkVGFza1RvSWJveCh0aGlzLnRleHQsIFRGaWxlKS50aGVuKCgpPT57bmV3IE5vdGljZSgnVGFzayBhZGRlZCB0byBpbmJveCcpfSk7XHJcblxyXG5cclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZFRhc2tUb0lib3godGV4dDogc3RyaW5nLCBURmlsZTogYW55KSB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSAnR1REL0luYm94Lm1kJztcclxuICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcclxuXHJcbiAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiB0ZXh0LnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIHRleHQgPSBgLSBbIF0gJHt0ZXh0fWA7XHJcbiAgICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgaW5zZXJ0UG9zaXRpb24gPSBjb250ZW50LmluZGV4T2YoJyMgRG9uZScpO1xyXG4gICAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICBjb25zdCBhZnRlciA9IGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICBjb250ZW50ID0gYmVmb3JlICsgdGV4dCArICdcXG4nICsgYWZ0ZXI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQgKz0gJ1xcbicgKyB0ZXh0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBjb250ZW50KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIFxyXG4gICAgICB9XHJcbiAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgJHtlfWApXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IE1vZGFsLCBBcHAsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2Nlc3NGaWxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgICBzZWxlY3RlZEZpbGU6IHN0cmluZztcclxuICAgIHNlbGVjdGVkRGVzdGluYXRpb246IHN0cmluZyA9ICdkZWZhdWx0JztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICBjb25zdCBoMiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdNb3ZlIG9yIERlbGV0ZSBQcm95ZWN0JyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0RpdlBhcmVudCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuICAgICAgICB0YXNrRGl2UGFyZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDA2QzhDJztcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcodGFza0RpdlBhcmVudClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1NlbGVjdCBmb2xkZXIgdG8gcHJvY2VzcycpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ2RlZmF1bHQnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzIuIFN0YXknLCAnU3RheScpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCczLiBTb21lZGF5JywgJ1NvbWVkYXknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza0Rpdi5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYEdURC8ke3ZhbHVlfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5saXN0KGZvbGRlclBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTGlzdCA9IGZpbGVzLmZpbGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTm8gZmlsZXMgZm91bmQgaW4gdGhlIFNvbWVkYXkgZm9sZGVyLicgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRhc2sgb2YgZmlsZUxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tEaXZ0YXNrID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2dGFzay5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHRoaXMuZ2V0TGFzdFBhcnQodGFzaykgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldHRpbmcodGFza0RpdnRhc2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE5hbWUoJ1NlbGVjdCB0aGUgZGVzdGluYXRpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignZGVmYXVsdCcsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCcxLiBQcm9qZWN0cycsICdQcm9qZWN0cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzIuIFN0YXknLCAnU3RheScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJzQuIEFyY2hpdmUnLCAnQXJjaGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlc3RpbmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza0RpdnRhc2suY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ01vdmUnIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrICYmIHRoaXMuc2VsZWN0ZWREZXN0aW5hdGlvbiAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubW92ZUZpbGUodGFzaywgdGhpcy5zZWxlY3RlZERlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza0RpdnRhc2suZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIGZpbGUgYW5kIGZvbGRlciBmaXJzdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidG5EZWxldGUgPSB0YXNrRGl2dGFzay5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRGVsZXRlJyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG5EZWxldGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNEQTEwMTAnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUZpbGUodGFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYERlbGV0ZWQgJHt0YXNrfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGl2dGFzay5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2Ugc2VsZWN0IGEgZmlsZSBmaXJzdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFzeW5jIG1vdmVGaWxlKGZpbGU6IHN0cmluZywgZGVzdGluYXRpb246IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVBhdGggPSBmaWxlO1xyXG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uUGF0aCA9IGBHVEQvJHtkZXN0aW5hdGlvbn0vJHt0aGlzLmdldExhc3RQYXJ0KGZpbGUpfWA7XHJcbiAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoc291cmNlUGF0aCk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShgJHtkZXN0aW5hdGlvblBhdGh9L2AsIGAke2ZpbGVDb250ZW50fWApO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUZpbGUoZmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGFzdFBhcnQodGV4dDogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gdGV4dC5sYXN0SW5kZXhPZignLycpO1xyXG4gICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcobGFzdFNsYXNoSW5kZXggKyAxKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlRmlsZShmaWxlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGZpbGU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVtb3ZlKGZpbGVQYXRoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIGZpbGU6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IE1vZGFsLCBBcHAsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYXNrTWFuYWdlck1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTWFuYWdlIFRhc2tzJyB9KTtcclxuXHJcbiAgICBjb25zdCBmb2xkZXJQYXRocyA9IFsnR1RELzEuIFByb2plY3RzJywgJ0dURC8yLiBTdGF5JywgJ0dURC8zLiBTb21lZGF5J107XHJcbiAgICBjb25zdCBzcGVjaWZpY0ZpbGVQYXRoID0gJ0dURC9Gb2xsb3cubWQnO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgdGhpcy5yZWFkVGFza3NGcm9tRm9sZGVyc0FuZEZpbGUoZm9sZGVyUGF0aHMsIHNwZWNpZmljRmlsZVBhdGgpO1xyXG5cclxuICAgICAgaWYgKHRhc2tzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIHRhc2tzIGZvdW5kLicgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGFza0VsZW1lbnQodGFzayk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlYWQgdGFza3M6JywgZXJyb3IpO1xyXG4gICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGYWlsZWQgdG8gbG9hZCB0YXNrcy4nIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVhZFRhc2tzRnJvbUZvbGRlcnNBbmRGaWxlKGZvbGRlcnM6IHN0cmluZ1tdLCBzcGVjaWZpY0ZpbGU6IHN0cmluZyk6IFByb21pc2U8eyBmaWxlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgbGluZTogbnVtYmVyIH1bXT4ge1xyXG4gICAgY29uc3QgdGFza3M6IHsgZmlsZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmc7IGxpbmU6IG51bWJlciB9W10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGZvbGRlciBvZiBmb2xkZXJzKSB7XHJcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5saXN0KGZvbGRlcik7XHJcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcy5maWxlcykge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZSk7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICAgICAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGxpbmUubWF0Y2goLy0gXFxbIFxcXS4qXHVEODNEXHVEQ0M1IFxcZHs0fS1cXGR7Mn0tXFxkezJ9LykpIHtcclxuICAgICAgICAgICAgdGFza3MucHVzaCh7IGZpbGUsIGNvbnRlbnQ6IGxpbmUsIGxpbmU6IGluZGV4IH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChzcGVjaWZpY0ZpbGUpO1xyXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChsaW5lLm1hdGNoKC8tIFxcWyBcXF0uKlx1RDgzRFx1RENDNSBcXGR7NH0tXFxkezJ9LVxcZHsyfS8pKSB7XHJcbiAgICAgICAgdGFza3MucHVzaCh7IGZpbGU6IHNwZWNpZmljRmlsZSwgY29udGVudDogbGluZSwgbGluZTogaW5kZXggfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0YXNrcztcclxuICB9XHJcblxyXG4gIGNyZWF0ZVRhc2tFbGVtZW50KHRhc2s6IHsgZmlsZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmc7IGxpbmU6IG51bWJlciB9KSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb25zdCB0YXNrRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndGFzay1pdGVtJyB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRlTWF0Y2ggPSB0YXNrLmNvbnRlbnQubWF0Y2goL1x1RDgzRFx1RENDNSAoXFxkezR9LVxcZHsyfS1cXGR7Mn0pLyk7XHJcbiAgICBjb25zdCBob3VyTWF0Y2ggPSB0YXNrLmNvbnRlbnQubWF0Y2goL1xcW2hvdXI6OihcXGR7Mn06XFxkezJ9KS0oXFxkezJ9OlxcZHsyfSlcXF0vKTtcclxuXHJcbiAgICBjb25zdCBkYXRlSW5wdXQgPSB0YXNrRWwuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnZGF0ZScgfSk7XHJcbiAgICBjb25zdCBzdGFydEhvdXJJbnB1dCA9IHRhc2tFbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0aW1lJyB9KTtcclxuICAgIGNvbnN0IGVuZEhvdXJJbnB1dCA9IHRhc2tFbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0aW1lJyB9KTtcclxuXHJcbiAgICBpZiAoZGF0ZU1hdGNoKSB7XHJcbiAgICAgIGRhdGVJbnB1dC52YWx1ZSA9IGRhdGVNYXRjaFsxXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaG91ck1hdGNoKSB7XHJcbiAgICAgIGNvbnN0IFtfLCBzdGFydEhvdXIsIGVuZEhvdXJdID0gaG91ck1hdGNoO1xyXG4gICAgICBzdGFydEhvdXJJbnB1dC52YWx1ZSA9IHN0YXJ0SG91cjtcclxuICAgICAgZW5kSG91cklucHV0LnZhbHVlID0gZW5kSG91cjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0YXNrQ29udGVudFBhcnRzID0gdGFzay5jb250ZW50LnNwbGl0KC8oXHVEODNEXHVEQ0M1IFxcZHs0fS1cXGR7Mn0tXFxkezJ9KXxcXFtob3VyOjpcXGR7Mn06XFxkezJ9LVxcZHsyfTpcXGR7Mn1cXF0vKTtcclxuICAgIHRhc2tDb250ZW50UGFydHMuZm9yRWFjaChwYXJ0ID0+IHtcclxuICAgICAgaWYgKHBhcnQ/Lm1hdGNoKC9cdUQ4M0RcdURDQzUgXFxkezR9LVxcZHsyfS1cXGR7Mn0vKSkge1xyXG4gICAgICAgIFxyXG4gICAgICB9IGVsc2UgaWYgKHBhcnQ/Lm1hdGNoKC9cXFtob3VyOjpcXGR7Mn06XFxkezJ9LVxcZHsyfTpcXGR7Mn1cXF0vKSkge1xyXG5cclxuICAgICAgfSBlbHNlIGlmIChwYXJ0KSB7XHJcbiAgICAgICAgdGFza0VsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBwYXJ0IH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0YXNrRWwuYXBwZW5kQ2hpbGQoZGF0ZUlucHV0KTtcclxuICAgIHRhc2tFbC5hcHBlbmRDaGlsZChzdGFydEhvdXJJbnB1dCk7XHJcbiAgICB0YXNrRWwuYXBwZW5kQ2hpbGQoZW5kSG91cklucHV0KTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVCdXR0b24gPSB0YXNrRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1VwZGF0ZSBUYXNrJyB9KTtcclxuICAgIHVwZGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbmV3RGF0ZSA9IGRhdGVJbnB1dC52YWx1ZTtcclxuICAgICAgY29uc3QgbmV3U3RhcnRIb3VyID0gc3RhcnRIb3VySW5wdXQudmFsdWU7XHJcbiAgICAgIGNvbnN0IG5ld0VuZEhvdXIgPSBlbmRIb3VySW5wdXQudmFsdWU7XHJcblxyXG4gICAgICBsZXQgdXBkYXRlZENvbnRlbnQgPSB0YXNrLmNvbnRlbnRcclxuICAgICAgICAucmVwbGFjZSgvXHVEODNEXHVEQ0M1IFxcZHs0fS1cXGR7Mn0tXFxkezJ9LywgYFx1RDgzRFx1RENDNSAke25ld0RhdGV9YClcclxuICAgICAgICAucmVwbGFjZSgvXFxbaG91cjo6XFxkezJ9OlxcZHsyfS1cXGR7Mn06XFxkezJ9XFxdLywgYFtob3VyOjoke25ld1N0YXJ0SG91cn0tJHtuZXdFbmRIb3VyfV1gKTtcclxuXHJcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlVGFzayh0YXNrLmZpbGUsIHRhc2subGluZSwgdXBkYXRlZENvbnRlbnQpO1xyXG4gICAgICBuZXcgTm90aWNlKCdUYXNrIHVwZGF0ZWQuJyk7XHJcbiAgICAgIHRhc2tFbC5lbXB0eSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGFza0VsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUgVGFzaycgfSk7XHJcbiAgICBkZWxldGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNEQTEwMTAnO1xyXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVRhc2sodGFzay5maWxlLCB0YXNrLmxpbmUpO1xyXG4gICAgICBuZXcgTm90aWNlKCdUYXNrIGRlbGV0ZWQuJyk7XHJcbiAgICAgIHRhc2tFbC5lbXB0eSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVUYXNrKGZpbGU6IHN0cmluZywgbGluZTogbnVtYmVyLCBuZXdDb250ZW50OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZSk7XHJcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG4gICAgbGluZXNbbGluZV0gPSBuZXdDb250ZW50O1xyXG4gICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlLCBsaW5lcy5qb2luKCdcXG4nKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWxldGVUYXNrKGZpbGU6IHN0cmluZywgbGluZTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKGZpbGUpO1xyXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuICAgIGxpbmVzLnNwbGljZShsaW5lLCAxKTtcclxuICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZSwgbGluZXMuam9pbignXFxuJykpO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59IiwgImV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzSW5ib3goKSB7XHJcbiAgICAgICAgbGV0IHRhc2tzOiBzdHJpbmdbXTtcclxuICAgICAgICBjb25zdCBmaWxlUGF0aCA9ICdHVEQvSW5ib3gubWQnO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZVBhdGgpO1xyXG4gICAgICAgICAgY29uc3QgdGFza3MgPSBmaWxlQ29udGVudC5zcGxpdCgnXFxuJykuZmlsdGVyKChsaW5lOiBzdHJpbmcpID0+IGxpbmUuc3RhcnRzV2l0aCgnLSBbIF0nKSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB0YXNrcztcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVhZCBmaWxlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0iLCAiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUd0ZFN0cnVjdHVyZSgpIHtcclxuICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XHJcbiAgICBjb25zdCBiYXNlUGF0aCA9ICdHVEQnO1xyXG5cclxuICAgIGNvbnN0IGZvbGRlcnMgPSBbXHJcbiAgICAgICAgYmFzZVBhdGgsXHJcbiAgICAgICAgYCR7YmFzZVBhdGh9LzEuIFByb2plY3RzYCxcclxuICAgICAgICBgJHtiYXNlUGF0aH0vMi4gU3RheWAsXHJcbiAgICAgICAgYCR7YmFzZVBhdGh9LzMuIFNvbWVkYXlgLFxyXG4gICAgICAgIGAke2Jhc2VQYXRofS80LiBBcmNoaXZlYFxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCBmaWxlcyA9IFtcclxuICAgICAgICB7IG5hbWU6IGAke2Jhc2VQYXRofS9JbmJveC5tZGAsIGRhdGE6ICcnIH0sXHJcbiAgICAgICAgeyBuYW1lOiBgJHtiYXNlUGF0aH0vRG9jdW1lbnRhdGlvbi5tZGAsIGRhdGE6ICcnIH0sXHJcbiAgICAgICAgeyBuYW1lOiBgJHtiYXNlUGF0aH0vRm9sbG93Lm1kYCwgZGF0YTogJycgfVxyXG4gICAgXTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb2xkZXIgJHtmb2xkZXJ9IGFscmVhZHkgZXhpc3RzLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgZGF0YSB9ID0gZmlsZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHZhdWx0LmNyZWF0ZShgJHtuYW1lfWAsIGAke2RhdGF9YCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaWxlIGZpbGUgYWxyZWFkeSBleGlzdHMuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IE5vdGljZSwgVEZpbGUsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtb3ZlQ29tcGxldGVkVGFza3MoYXBwOiBBcHApIHtcclxuICBjb25zdCBhY3RpdmVGaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcbiAgaWYgKCFhY3RpdmVGaWxlKSB7XHJcbiAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZSBvcGVuLicpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29udGVudCA9IGF3YWl0IGFwcC52YXVsdC5yZWFkKGFjdGl2ZUZpbGUpO1xyXG4gIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgY29uc3QgY29tcGxldGVkVGFza3M6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIC8vIEZpbHRyYSB5IGVsaW1pbmEgbGFzIHRhcmVhcyBjb21wbGV0YWRhcyBkZWwgY29udGVuaWRvIG9yaWdpbmFsXHJcbiAgY29uc3QgbmV3Q29udGVudCA9IGxpbmVzLmZpbHRlcihsaW5lID0+IHtcclxuICAgIGlmIChsaW5lLm1hdGNoKC8tIFxcW3hcXF0vKSkge1xyXG4gICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKGxpbmUpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9KS5qb2luKCdcXG4nKTtcclxuXHJcbiAgLy8gQnVzY2EgbGEgc2VjY2lcdTAwRjNuIFwiIyBEb25lXCJcclxuICBjb25zdCBkb25lU2VjdGlvbkluZGV4ID0gbmV3Q29udGVudC5pbmRleE9mKCcjIERvbmUnKTtcclxuXHJcbiAgbGV0IHVwZGF0ZWRDb250ZW50ID0gJyc7XHJcbiAgaWYgKGRvbmVTZWN0aW9uSW5kZXggIT09IC0xKSB7XHJcbiAgICAvLyBBXHUwMEYxYWRlIGxhcyB0YXJlYXMgY29tcGxldGFkYXMgYSBsYSBzZWNjaVx1MDBGM24gXCIjIERvbmVcIlxyXG4gICAgY29uc3QgYmVmb3JlRG9uZVNlY3Rpb24gPSBuZXdDb250ZW50LnN1YnN0cmluZygwLCBkb25lU2VjdGlvbkluZGV4ICsgNik7XHJcbiAgICBjb25zdCBhZnRlckRvbmVTZWN0aW9uID0gbmV3Q29udGVudC5zdWJzdHJpbmcoZG9uZVNlY3Rpb25JbmRleCArIDYpO1xyXG4gICAgdXBkYXRlZENvbnRlbnQgPSBgJHtiZWZvcmVEb25lU2VjdGlvbn1cXG4ke2NvbXBsZXRlZFRhc2tzLmpvaW4oJ1xcbicpfVxcbiR7YWZ0ZXJEb25lU2VjdGlvbn1gO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBBXHUwMEYxYWRlIHVuYSBudWV2YSBzZWNjaVx1MDBGM24gXCIjIERvbmVcIiBhbCBmaW5hbCBkZWwgZG9jdW1lbnRvXHJcbiAgICB1cGRhdGVkQ29udGVudCA9IGAke25ld0NvbnRlbnR9XFxuIyBEb25lXFxuJHtjb21wbGV0ZWRUYXNrcy5qb2luKCdcXG4nKX1gO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgYXBwLnZhdWx0Lm1vZGlmeShhY3RpdmVGaWxlLCB1cGRhdGVkQ29udGVudCk7XHJcbiAgbmV3IE5vdGljZSgnQ29tcGxldGVkIHRhc2tzIG1vdmVkIHRvICMgRG9uZSBzZWN0aW9uLicpO1xyXG59IiwgImltcG9ydCB7IE5vdGljZSwgVEZpbGUsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtb3ZlQWxsRG9uZVRhc2tzKGFwcDogQXBwKSB7XHJcbiAgY29uc3QgdGFyZ2V0RmlsZSA9IGF3YWl0IGdldE9yQ3JlYXRlRmlsZShhcHAsICdHVEQvVGFza3MgRG9uZS5tZCcpO1xyXG4gIGNvbnN0IGNvbXBsZXRlZFRhc2tzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGF3YWl0IHByb2Nlc3NGb2xkZXIoYXBwLCAnR1REJywgY29tcGxldGVkVGFza3MpO1xyXG5cclxuICBpZiAoY29tcGxldGVkVGFza3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICBuZXcgTm90aWNlKCdObyBjb21wbGV0ZWQgdGFza3MgZm91bmQuJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB0YXJnZXRDb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQodGFyZ2V0RmlsZSk7XHJcbiAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSBgJHt0YXJnZXRDb250ZW50fSR7Y29tcGxldGVkVGFza3Muam9pbignXFxuJyl9YDtcclxuICBhd2FpdCBhcHAudmF1bHQubW9kaWZ5KHRhcmdldEZpbGUsIHVwZGF0ZWRDb250ZW50KTtcclxuXHJcbiAgbmV3IE5vdGljZSgnQ29tcGxldGVkIHRhc2tzIG1vdmVkIHRvIHRhcmdldCBmaWxlLicpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRm9sZGVyKGFwcDogQXBwLCBmb2xkZXJQYXRoOiBzdHJpbmcsIGNvbXBsZXRlZFRhc2tzOiBzdHJpbmdbXSkge1xyXG4gIGNvbnN0IGZpbGVzID0gYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChmb2xkZXJQYXRoKTtcclxuXHJcbiAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLmZpbGVzKSB7XHJcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlKTtcclxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XHJcbiAgICAgIGlmIChsaW5lLm1hdGNoKC8tIFxcW3hcXF0vKSkge1xyXG4gICAgICAgIGNvbXBsZXRlZFRhc2tzLnB1c2gobGluZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlbW92ZSBjb21wbGV0ZWQgdGFza3MgZnJvbSBvcmlnaW5hbCBmaWxlc1xyXG4gICAgY29uc3QgbmV3Q29udGVudCA9IGxpbmVzLmZpbHRlcihsaW5lID0+ICFsaW5lLm1hdGNoKC8tIFxcW3hcXF0vKSkuam9pbignXFxuJyk7XHJcbiAgICBhd2FpdCBhcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlLCBuZXdDb250ZW50KTtcclxuICB9XHJcblxyXG4gIGZvciAoY29uc3QgZm9sZGVyIG9mIGZpbGVzLmZvbGRlcnMpIHtcclxuICAgIGF3YWl0IHByb2Nlc3NGb2xkZXIoYXBwLCBmb2xkZXIsIGNvbXBsZXRlZFRhc2tzKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlRmlsZShhcHA6IEFwcCwgZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VEZpbGU+IHtcclxuICBsZXQgZmlsZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpIGFzIFRGaWxlO1xyXG4gIGlmICghZmlsZSkge1xyXG4gICAgYXdhaXQgYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgJycpO1xyXG4gICAgZmlsZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpIGFzIFRGaWxlO1xyXG4gIH1cclxuICByZXR1cm4gZmlsZTtcclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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TUFDTixVQUFVLE1BQU07QUFDWixxQkFBYSxFQUFFLEtBQUssV0FBUztBQUN6QixjQUFJLGtCQUFrQixLQUFLLEtBQUssS0FBSyxFQUFFLEtBQUs7QUFBQSxRQUNoRCxDQUFDO0FBQUEsTUFDTDtBQUFBLElBQ0osQ0FBQztBQUVELFNBQUssY0FBYyxpQkFBaUIsaUJBQWlCLE1BQU07QUFDdkQsbUJBQWEsRUFBRSxLQUFLLFdBQVM7QUFDekIsWUFBSSxrQkFBa0IsS0FBSyxLQUFLLEtBQUssRUFBRSxLQUFLO0FBQUEsTUFDaEQsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNLG1CQUFtQixLQUFLLEdBQUc7QUFBQSxJQUMvQyxDQUFDO0FBR0QsU0FBSyxXQUFXO0FBQUEsTUFDWixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU0saUJBQWlCLEtBQUssR0FBRztBQUFBLElBQzdDLENBQUM7QUFFRCxTQUFLLGNBQWMsY0FBYyxnQ0FBZ0MsTUFBTTtBQUNuRSx1QkFBaUIsS0FBSyxHQUFHO0FBQUEsSUFDN0IsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUdBLFdBQVc7QUFDUCxRQUFJLHdCQUFPLGtCQUFrQjtBQUFBLEVBQ2pDO0FBQ0o7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJmaWxlRHJvcGRvd24iLCAidmFsdWUiLCAiZHJvcGRvd24iLCAiaW1wb3J0X29ic2lkaWFuIiwgIlRGaWxlIiwgImltcG9ydF9vYnNpZGlhbiIsICJkcm9wZG93biIsICJ2YWx1ZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY29udGVudCIsICJsaW5lcyIsICJ0YXNrcyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
